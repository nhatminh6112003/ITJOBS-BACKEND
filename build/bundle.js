(()=>{var e={647:(e,t,r)=>{var n=r(147),o=r(17),i=r(496),u=r(282),a=o.basename(__filename),c=u.env.NODE_ENV||"development",l=r(91)[c];console.log("TCL: __dirname",__dirname);var s,f={};if(r(142).config(),"production"===c){var p={username:u.env.DB_PRODUCTION_USERNAME,password:u.env.DB_PRODUCTION_PASSWORD,database:u.env.DB_PRODUCTION_NAME,host:u.env.DB_PRODUCTION_HOST,dialect:"mysql"};s=new i(u.env.DB_PRODUCTION_NAME,u.env.DB_PRODUCTION_USERNAME,u.env.DB_PRODUCTION_PASSWORD,p)}else s=new i(u.env.DB_NAME,u.env.DB_USERNAME,u.env.DB_PASSWORD,l);n.readdirSync(__dirname).filter((function(e){return 0!==e.indexOf(".")&&e!==a&&".js"===e.slice(-3)&&-1===e.indexOf(".test.js")})).forEach((function(e){var t=r(65)(o.join(__dirname,e))(s,i.DataTypes);f[t.name]=t})),Object.keys(f).forEach((function(e){f[e].associate&&f[e].associate(f)})),f.sequelize=s,f.Sequelize=i,e.exports=f},65:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=65,e.exports=t},120:e=>{"use strict";e.exports=require("@joi/date")},142:e=>{"use strict";e.exports=require("dotenv")},506:e=>{"use strict";e.exports=require("joi")},104:e=>{"use strict";e.exports=require("qs")},496:e=>{"use strict";e.exports=require("sequelize")},113:e=>{"use strict";e.exports=require("crypto")},147:e=>{"use strict";e.exports=require("fs")},17:e=>{"use strict";e.exports=require("path")},282:e=>{"use strict";e.exports=require("process")},91:e=>{"use strict";e.exports=JSON.parse('{"development":{"username":"root","password":"12345678","database":"websitejob","host":"127.0.0.1","dialect":"mysql","logging":false,"timezone":"+07:00"},"test":{"username":"root","password":null,"database":"database_test","host":"127.0.0.1","dialect":"mysql"},"production":{"username":"root","password":null,"database":"database_production","host":"127.0.0.1","dialect":"mysql"}}')}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(142),t=r.n(e);const n=require("express");var o=r.n(n);const i=require("morgan");var u=r.n(i);const a=require("cors");var c=r.n(a);const l=require("compression");var s=r.n(l);const f=require("cookie-parser");var p=r.n(f),d=r(17),h=r.n(d);const b=require("express-async-handler");var y=r.n(b);const w=require("jsonwebtoken");var v=r.n(w);const m=require("bcrypt");var g=r.n(m);const _={SUCCESS:{isSuccess:!0,status:200,message:"Success !"},CREATED:{isSuccess:!0,status:201,message:"Created !"},ACCEPTED:{isSuccess:!0,status:202,message:"Accepted !"},NO_CONTENT:{isSuccess:!0,status:204,message:"No Content"},BAD_REQUEST:{isSuccess:!1,status:400,message:"Bad Request"},UNAUTHORIZED:{isSuccess:!1,status:401,message:"Unauthorized !"},FORBIDDEN:{isSuccess:!1,status:403,message:"Forbidden"},NOT_FOUND:{isSuccess:!1,status:404,message:"Not Found"},INTERNAL_SERVER_ERROR:{isSuccess:!1,status:500,message:"Internal Server Error"}};function O(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function j(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var k={hashPassword:function(e){return new Promise((t=function(t,r){var n,o;return j(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,g().hash(e,10)];case 1:return n=i.sent(),t(n),[3,3];case 2:return o=i.sent(),r(o),[3,3];case 3:return[2]}}))},r=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(e){O(i,n,o,u,a,"next",e)}function a(e){O(i,n,o,u,a,"throw",e)}u(void 0)}))},function(e,t){return r.apply(this,arguments)}));var t,r}};const S=k;var P=r(647);const x=require("http-errors");var A=r.n(x),R={1:"clrGrayGreen",2:"clrYellowGreen",3:"clrBlueYellow",4:"clrGreenBlueDark",5:"clrBlueDarkYellow",6:"clrBlueWhiteBlue",7:"clrRedDarkRed",8:"clrGreenGreenLight",9:"clrBlueGreen",10:"clrBrownGreen",11:"clrBlueGray",12:"clrYellowYellowLight",13:"clrGreenGreenLight",14:"clrBlueDarkBlueLight",15:"clrBlueBlueLight",16:"clrRedRedLight",17:"clrGreenGreenLight2",18:"clrBlueDarkBlueLight2",19:"clrBrownBrownLight",20:"clrGreenDarkGreenLight",21:"clrGreenBlue",22:"clrYellowBrown",23:"clrBlueBlueLight",24:"clrGreenGreenLight",25:"clrBlueDarkGray",26:"clrBlueYellow",27:"clrRedYellow",28:"clrGreenBlueLight",29:"clrBlueDarkGray2",30:"clrBrownGray",31:"clrBlackRed",32:"clrYellowBlack",33:"clrBlueBlueDark",34:"clrGreenGreenLight",35:"clrBlueDarkGray",36:"clrBlueLightBlue",37:"clrRedBlack",38:"clrGreenLightGreen",39:"clrBrownGray",40:"clrGrayBlack",41:"clrYellowYellowLight",42:"clrBlueBlueLight",43:"clrGreenGreenLight",44:"clrBlueDarkBlueLight",45:"clrBlueLightBlueDark",46:"clrRedRedLight",47:"clrGreenGreenDark",48:"clrBlueDarkBlueLight2",49:"clrBrownBrownLight",50:"clrGrayDarkGrayLight",51:"clrGreenBlueLight2",52:"clrYellowBrown",53:"clrGreenBlueLight",54:"clrBlueDarkBlue",55:"clrBlueLightGreen",56:"clrRedYellow",57:"clrBlueBlueLight",58:"clrBlueDarkBlueLight",59:"clrBrownBrownDark",60:"clrBrownBrownDark2",61:"clrBlueDarkBlueYellow",62:"clrYellowBlueGreen",63:"clrThreeBlue",64:"clrThreeGreen",65:"clrBlueDarkBrownGray",66:"clrBlueLightBlueGray",67:"clrRedYellowOrange",68:"clrGreenBlueGreen",69:"clrThreeBlue2",70:"clrBrownBrownBlue",71:"clrBlackYellowGray",72:"clrYellowWhiteGray",73:"clrTwoBlueGray",74:"clrTwoGreenGray",75:"clrTwoBlueGray2",76:"clrRedWhiteGray",77:"clrTwoGreenGray2",78:"clrTwoBlueGray3",79:"clrBrownBlueDarkGray",80:"clrBlackTwoGray",81:"clrBlackYellowBlue",82:"clrBlackGreen",83:"clrYellowBlue",84:"clrTwoBlue",85:"clrGreenYellow",86:"clrBlueGreen",87:"clrRedYellow",88:"clrTwoGreen",89:"clrTwoBrown",90:"clrTwoBrownDark",91:"clrBlackBrown",92:"clrGrayBlack",93:"clrBlueGreen",94:"clrGreenYellowBlue",95:"clrBlueGrayYellow",96:"clrRedYellowGray",97:"clrGreenYellow",98:"clrTwoBlue",99:"clrBrownBlue",100:"clrGrayBrown",101:"clrBlueBlack",102:"clrBrownYellow",103:"clrBlueGreen",104:"clrTwoGreen",105:"clrBlueDarkGreen",106:"clrBlueGreen2",107:"clrRedBlack",108:"clrGreenBlue",109:"clrBrownYellow2",110:"clrBlackGray",111:"clrTwoGreen",112:"clrWhiteGreen",113:"clrTwoYellow",114:"clrTwoBlueGreen",115:"clrThreeGreen",116:"clrTwoBlueBrown",117:"clrTwoRed",118:"clrTwoGreenGray",119:"clrTwoBrownYellow",120:"clrTwoGrayYellow",121:"clrYellowBrown",122:"clrTwoBlue",123:"clrTwoGreen",124:"clrBlackBlue",125:"clrTwoBlue2",126:"clrRed",127:"clrGreenBlue",128:"clrTwoBlue3",129:"clrBrown",130:"clrBlack",131:"clrYellow",132:"clrBlue",133:"clrGreen",134:"clrBlueDark",135:"clrBlue2",136:"clrRed",137:"clrGreen2",138:"clrBlue3",139:"clrBrown",140:"clrBlack",141:"clrYellow",142:"clrBlue",143:"clrGreen",144:"clrBlueDark",145:"clrBlue2",146:"clrRed",147:"clrGreen2",148:"clrBlue3",149:"clrBrown",150:"clrBlack",151:"clrBlueDarkYellow16",152:"clrYellowGreen16",153:"clrBlueLightBlueDark16",154:"clrGreenYellow16",155:"clrBrownLightBrown16",156:"clrRedBrownLight16",157:"clrGreenGreenDark16",158:"clrPurpleBlueLight16",159:"clrBlackBrown16",160:"clrOrangeGreen16",161:"clrBlueBlack17",162:"clrBlueDarkBlue17",163:"clrTwoGreen17",164:"clrBlueBrown17",165:"clrRedBrown17",166:"clrPurpleBrown17",167:"clrTwoBrown17",168:"clrOrangeBrown17",169:"clrPinkOrange17",170:"clrYellowBlue17",171:"clrOrangeBlack18",172:"clrTwoBlue18",173:"clrTwoGreen18",174:"clrBlueDarkGreen18",175:"clrTwoBlueLight18",176:"clrRedBlack18",177:"clrTwoGreenLight18",178:"clrBrownBlack18",179:"clrPurpleGray18",180:"clrTwoBlack18"};const E={JOBSEEKER:1,EMPLOYER:2,ADMIN:3};function D(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){D(i,n,o,u,a,"next",e)}function a(e){D(i,n,o,u,a,"throw",e)}u(void 0)}))}}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){B(e,t,r[t])}))}return e}function G(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function C(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const I={create:function(e){return T((function(){var t,r,n,o,i,u,a,c;return C(this,(function(l){switch(l.label){case 0:return t=e.email,r=e.user_type_id,n=e.password,[4,P.sequelize.transaction()];case 1:o=l.sent(),l.label=2;case 2:return l.trys.push([2,9,,11]),[4,P.user_account.findOne({where:{email:t,user_type_id:r},attributes:["email"],raw:!0})];case 3:if(l.sent())throw A()(409,"Email đã tồn tại");return[4,S.hashPassword(n)];case 4:return i=l.sent(),[4,P.user_account.create(G(q({},e),{password:i}),{transaction:o})];case 5:return u=(u=l.sent()).get({plain:!0}),[4,P.resume.create({user_account_id:u.id,resume_type_id:1},{transaction:o})];case 6:return a=(a=l.sent()).get({plain:!0}),[4,Promise.all([P.resume_profile.create({resume_id:a.id,user_account_id:u.id},{transaction:o}),P.resume_title.create({resume_id:a.id,title:""},{transaction:o}),P.resume_template.create({resume_id:a.id,cv_color:101,cv_font:"Roboto",cv_font_color:"fontCVColorBlack",cv_language:"en",cv_size:"fontCVsize14",cv_template_id:1,default_color:R[101],default_font:"fontCVRoboto",default_size:"fontCVsize14",default_template_name:"CVHay Mới tốt nghiệp",default_template_color:"101",default_template:"cv-template-11"},{transaction:o}),P.resume_desired_job.create({resume_id:a.id},{transaction:o})])];case 7:if(l.sent(),!u)throw A()(500,"Thêm mới người dùng thất bại");return[4,o.commit()];case 8:return l.sent(),delete u.password,[2,u];case 9:return c=l.sent(),[4,o.rollback()];case 10:throw l.sent(),c;case 11:return[2]}}))}))()},authentication:function(e){var t=e.email,r=e.password,n=e.user_type_id;return T((function(){var e,o;return C(this,(function(i){switch(i.label){case 0:return(e={where:{email:t,user_type_id:n},raw:!0,nest:!0}).include=n===E.JOBSEEKER?[{model:P.resume,as:"resume",attributes:["id"]}]:n===E.EMPLOYER?[{model:P.company,as:"company"}]:[],[4,P.user_account.findOne(e)];case 1:if(!(o=i.sent()))throw A()(404,"Email không tồn tại");return[4,g().compare(r,o.password)];case 2:if(!i.sent())throw A()(401,"Mật khẩu không chính xác");return delete o.password,[2,o]}}))}))()}};function N(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function U(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){N(i,n,o,u,a,"next",e)}function a(e){N(i,n,o,u,a,"throw",e)}u(void 0)}))}}function M(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const K={signAccessToken:function(e){return U((function(){var t;return M(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,v().sign(e,process.env.ACCESS_TOKEN_SECRET,{algorithm:"HS256",expiresIn:"30d"})];case 1:return[2,r.sent()];case 2:return t=r.sent(),console.log(t),[3,3];case 3:return[2]}}))}))()},signRefreshToken:function(e){return U((function(){return M(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,v().sign(e,process.env.REFRESH_TOKEN_SECRET,{algorithm:"HS256",expiresIn:"30d"})];case 1:return[2,t.sent()];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))()}};function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function z(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){L(i,n,o,u,a,"next",e)}function a(e){L(i,n,o,u,a,"throw",e)}u(void 0)}))}}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){W(e,t,r[t])}))}return e}function H(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function F(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();var Z={register:function(e,t,r){return z((function(){var n,o,i;return Q(this,(function(u){switch(u.label){case 0:n=e.body,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,I.create(n)];case 2:return o=u.sent(),[2,t.apiResponse(o,_.SUCCESS)];case 3:return i=u.sent(),r(i),[3,4];case 4:return[2]}}))}))()},login:function(e,t,r){return z((function(){var n,o,i,u,a,c;return Q(this,(function(l){switch(l.label){case 0:n=e.body,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,I.authentication(n)];case 2:return o=l.sent(),[4,Promise.all([K.signAccessToken(o),K.signRefreshToken(o)])];case 3:return i=J.apply(void 0,[l.sent(),2]),u=i[0],a=i[1],t.apiResponse(V({accessToken:u,refreshToken:a},o),_.SUCCESS),[3,5];case 4:return c=l.sent(),r(c),[3,5];case 5:return[2]}}))}))()},refreshToken:function(e,t){return z((function(){var r,n,o,i,u,a,c;return Q(this,(function(l){switch(l.label){case 0:r=e.body.refreshToken,l.label=1;case 1:return l.trys.push([1,5,,6]),(o=r)?[4,v().verify(r,process.env.REFRESH_TOKEN_SECRET)]:[3,3];case 2:o=l.sent(),l.label=3;case 3:return(n=o).iat,i=n.exp,u=F(n,["iat","exp"]),i<Date.now()/1e3?[2,t.status(200).json({code:401,message:"Refresh token expired"})]:[4,K.signAccessToken(u)];case 4:return a=l.sent(),[2,t.json(H(V({},_.SUCCESS),{data:{accessToken:a}}))];case 5:return"TokenExpiredError"===(c=l.sent()).name?[2,t.json(H(V({},_.UNAUTHORIZED),{message:"Refresh token expired"}))]:"JsonWebTokenError"===c.name?[2,t.status(200).json({code:401,message:c.message})]:[2,t.json({message:c.message})];case 6:return[2]}}))}))()}};const $=Z;var X=r(506),ee=r.n(X);const te={register:ee().object({firstname:ee().string().pattern(/^\D+$/).required().messages({"string.pattern.base":"Tên không được nhập số và ký tự đặc biệt","any.required":"Firstname is required"}),lastname:ee().string().pattern(/^\D+$/).required().messages({"string.pattern.base":"Tên không được nhập số và ký tự đặc biệt","any.required":"Lastname is required"}),email:ee().string().email({minDomainSegments:2}).required(),password:ee().string().min(8).required(),user_type_id:ee().number().required()}),login:ee().object({email:ee().string().required(),password:ee().string().min(8).required(),user_type_id:ee().number().required()})};function re(e,t,r){return re=ae()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&ie(o,r.prototype),o},re.apply(null,arguments)}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function oe(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}function ie(e,t){return ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ie(e,t)}function ue(e){var t="function"==typeof Map?new Map:void 0;return ue=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return re(e,arguments,ne(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ie(n,e)},ue(e)}function ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}const ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(o,e);var t,r,n=(t=o,r=ae(),function(){var e,n=ne(t);if(r){var o=ne(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return oe(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this)).statusCode=422,t.messageObject=e,t}return o}(ue(Error));function le(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function se(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const fe=function(e){return y()((t=function(t,r,n){var o;return se(this,(function(r){switch(r.label){case 0:return[4,e.validate(t.body,{abortEarly:!1})];case 1:if(o=r.sent().error)throw new ce(o.details);return n(),[2]}}))},r=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(e){le(i,n,o,u,a,"next",e)}function a(e){le(i,n,o,u,a,"throw",e)}u(void 0)}))},function(e,t,n){return r.apply(this,arguments)}));var t,r};var pe=te.login;const de={register:fe(te.register),login:fe(pe)};var he=o().Router();he.post("/refresh-token",y()($.refreshToken)),he.post("/register",de.register,$.register),he.post("/login",de.login,$.login);const be=he;const ye=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=y()(e[t]));return e};var we=r(496);function ve(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function me(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){ve(i,n,o,u,a,"next",e)}function a(e){ve(i,n,o,u,a,"throw",e)}u(void 0)}))}}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ge(e,t,r[t])}))}return e}function Oe(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}je=me((function(e,t,r){return Oe(this,(function(n){switch(n.label){case 0:return[4,e.findByPk(t)];case 1:if(!n.sent())throw A()(409,"Không tìm thấy bản ghi");return[4,e.create(r)];case 2:return[2,n.sent()]}}))})),function(){var e=me((function(e,t,r){return Oe(this,(function(n){switch(n.label){case 0:return[4,e.findOne({where:t})];case 1:if(!n.sent())throw A()(409,"Không tìm thấy bản ghi");return[4,e.create(r)];case 2:return[2,n.sent()]}}))}))}();var je,ke=function(){var e=me((function(e,t,r){var n;return Oe(this,(function(o){switch(o.label){case 0:return[4,e.findByPk(t)];case 1:if(!(n=o.sent()))throw A()(409,"Không tìm thấy bản ghi");return[4,n.update(r)];case 2:return o.sent(),[2,n]}}))}));return function(t,r,n){return e.apply(this,arguments)}}(),Se=function(){var e=me((function(e,t,r){var n;return Oe(this,(function(o){switch(o.label){case 0:return[4,e.findOne({where:t})];case 1:if(!(n=o.sent()))throw A()(409,"Không tìm thấy bản ghi");return[4,n.update(r)];case 2:return o.sent(),[2,n]}}))}));return function(t,r,n){return e.apply(this,arguments)}}(),Pe=(function(){var e=me((function(e,t,r){var n;return Oe(this,(function(o){switch(o.label){case 0:return[4,e.findOne({where:{id:t}})];case 1:if(!(n=o.sent()))throw A()(409,"Không tìm thấy bản ghi");return[4,n.update(r)];case 2:return o.sent(),[2,n]}}))}))}(),function(){var e=me((function(e,t){var r;return Oe(this,(function(n){switch(n.label){case 0:return[4,e.findByPk(t)];case 1:if(!(r=n.sent()))throw A()(409,"Không tìm thấy bản ghi");return[4,r.destroy()];case 2:return n.sent(),[2,r]}}))}));return function(t,r){return e.apply(this,arguments)}}());!function(){var e=me((function(e,t){var r;return Oe(this,(function(n){switch(n.label){case 0:return[4,e.findOne({where:t})];case 1:if(!(r=n.sent()))throw A()(409,"Không tìm thấy bản ghi");return[4,r.destroy()];case 2:return n.sent(),[2,r]}}))}))}();function xe(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=me((function(e){var t,r,n,o,i,u,a,c,l;return Oe(this,(function(s){switch(s.label){case 0:return t=e.model,r=e.page,n=e.limit,o=e.condition,i=void 0===o?{}:o,u=e.queries,n<1?[4,t.findAndCountAll(_e({where:i},_e({},u)))]:[3,2];case 1:return[2,[s.sent().rows]];case 2:return 1!==n?[3,4]:[4,t.findOne(_e({where:i},u))];case 3:return[2,[s.sent(),null]];case 4:return[4,t.findAndCountAll(_e({where:i},_e({offset:(r-1)*n,limit:n},u)))];case 5:return a=s.sent(),[4,t.count({where:i})];case 6:return c=s.sent(),l={totalPages:Math.ceil(c/n),totalItems:null==a?void 0:a.count,itemsPerPage:n,pageIndex:r},[2,[a.rows,l]]}}))}))).apply(this,arguments)}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ee(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function De(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Ee(i,n,o,u,a,"next",e)}function a(e){Ee(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var qe=we.Sequelize.Op;t().config();var Ge={getAll:function(e){return De((function(){var t,r,n,o,i,u,a,c;return Be(this,(function(l){switch(l.label){case 0:return t=Number(e.page)||1,r=Number(e.limit)||25,o=null!==(n=e.keyword)&&void 0!==n?n:"",i={},o&&(i.name=(s={},f=qe.substring,p=o,f in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,s)),[4,xe({model:P.job_position_category,page:t,limit:r,condition:i})];case 1:return u=Te.apply(void 0,[l.sent(),2]),a=u[0],c=u[1],[2,[a,c]]}var s,f,p}))}))()},getOne:function(e){return De((function(){var t;return Be(this,(function(r){switch(r.label){case 0:return[4,P.job_position_category.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return De((function(){return Be(this,(function(t){switch(t.label){case 0:return[4,P.job_position_category.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return De((function(){return Be(this,(function(r){switch(r.label){case 0:return[4,ke(P.job_position_category,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return De((function(){return Be(this,(function(t){switch(t.label){case 0:return[4,Pe(P.job_position_category,e)];case 1:return[2,t.sent()]}}))}))()}};const Ce=Ge;function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ne(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Ue(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Ne(i,n,o,u,a,"next",e)}function a(e){Ne(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var Ye={getAll:function(e,t){return Ue((function(){var r,n,o,i;return Ke(this,(function(u){switch(u.label){case 0:return r=e.query,[4,Ce.getAll(r)];case 1:return n=Me.apply(void 0,[u.sent(),2]),o=n[0],i=n[1],[2,t.apiResponse(o,i)]}}))}))()},create:function(e,t){return Ue((function(){var r,n;return Ke(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Ce.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Ue((function(){var r,n,o;return Ke(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,Ce.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return Ue((function(){var r,n;return Ke(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Ce.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return Ue((function(){var r;return Ke(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Ce.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}};const Le=ye(Ye);const ze={job_positionCategory:fe({job_positionCategory:ee().object({name:ee().string().required()})}.job_positionCategory)};function We(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Ve(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const He={protect:function(e,t,r){return(n=function(){var n,o,i,u,a,c;return Ve(this,(function(l){switch(l.label){case 0:e.headers.authorization&&e.headers.authorization.startsWith("Bearer ")&&(n=e.headers.authorization.split(" ")[1]),l.label=1;case 1:if(l.trys.push([1,4,,5]),!n)throw A()(401,"You dont have permission");return[4,v().verify(n,process.env.ACCESS_TOKEN_SECRET)];case 2:return o=l.sent(),i=o.email,u=o.user_type_id,[4,P.user_account.findOne({where:{email:i,user_type_id:u}})];case 3:return(a=l.sent())?(e.user=a,r(),[3,5]):[2,t.status(_.UNAUTHORIZED.status).send({error:"Unauthorized"})];case 4:return"TokenExpiredError"===(c=l.sent()).name||"JsonWebTokenError"===c.name?[2,t.status(200).json({code:401,message:c.message})]:(r(c),[3,5]);case 5:return[2,n]}}))},function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function u(e){We(i,r,o,u,a,"next",e)}function a(e){We(i,r,o,u,a,"throw",e)}u(void 0)}))})();var n},authPage:function(e){return function(t,r,n){var o=t.user.user_type_id;try{if(!o)throw A()(401,"You don't have permission");if(!e.includes(o))throw A()(401,"You don't have permission");n()}catch(e){n(e)}}}};var Fe=o().Router();Fe.get("",Le.getAll),Fe.post("",He.protect,He.authPage([E.ADMIN]),ze.job_positionCategory,Le.create),Fe.patch("/:id",He.protect,He.authPage([E.ADMIN]),ze.job_positionCategory,Le.update),Fe.delete("/:id",He.protect,He.authPage([E.ADMIN]),Le.delete);const Je=Fe;function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ze(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function $e(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Ze(i,n,o,u,a,"next",e)}function a(e){Ze(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var tt=we.Sequelize.Op;t().config();var rt={getAll:function(e){return $e((function(){var t,r,n,o,i,u,a,c;return et(this,(function(l){switch(l.label){case 0:return t=Number(e.page)||1,r=Number(e.limit)||25,o=null!==(n=e.keyword)&&void 0!==n?n:"",i={},o&&(i.name=(s={},f=tt.substring,p=o,f in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,s)),[4,xe({model:P.job_welfare,page:t,limit:r,condition:i})];case 1:return u=Xe.apply(void 0,[l.sent(),2]),a=u[0],c=u[1],[2,[a,c]]}var s,f,p}))}))()},getOne:function(e){return $e((function(){var t;return et(this,(function(r){switch(r.label){case 0:return[4,P.job_welfare.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return $e((function(){return et(this,(function(t){switch(t.label){case 0:return[4,P.job_welfare.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return $e((function(){return et(this,(function(r){switch(r.label){case 0:return[4,ke(P.job_welfare,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return $e((function(){return et(this,(function(t){switch(t.label){case 0:return[4,Pe(P.job_welfare,e)];case 1:return[2,t.sent()]}}))}))()}};const nt=rt;function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function it(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function ut(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){it(i,n,o,u,a,"next",e)}function a(e){it(i,n,o,u,a,"throw",e)}u(void 0)}))}}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var lt={getAll:function(e,t){return ut((function(){var r,n,o,i;return ct(this,(function(u){switch(u.label){case 0:return r=e.query,[4,nt.getAll(r)];case 1:return n=at.apply(void 0,[u.sent(),2]),o=n[0],i=n[1],[2,t.apiResponse(o,i)]}}))}))()},create:function(e,t){return ut((function(){var r,n;return ct(this,(function(o){switch(o.label){case 0:return r=e.body,[4,nt.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return ut((function(){var r,n,o;return ct(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,nt.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return ut((function(){var r,n;return ct(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,nt.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return ut((function(){var r;return ct(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,nt.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}};const st=ye(lt);const ft={jobWelfare:fe({jobWelfare:ee().object({welfare_type:ee().string().required()})}.jobWelfare)};var pt=o().Router();pt.get("",st.getAll),pt.get("/:id",st.getOne),pt.post("",He.protect,He.authPage([E.ADMIN]),ft.jobWelfare,st.create),pt.patch("/:id",He.protect,ft.jobWelfare,He.authPage([E.ADMIN]),st.update),pt.delete("/:id",He.protect,He.authPage([E.ADMIN]),st.delete);const dt=pt;function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bt(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function yt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){bt(i,n,o,u,a,"next",e)}function a(e){bt(i,n,o,u,a,"throw",e)}u(void 0)}))}}function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var mt=we.Sequelize.Op;t().config();var gt={getAll:function(e){return yt((function(){var t,r,n,o,i,u,a,c;return vt(this,(function(l){switch(l.label){case 0:return t=Number(e.page)||1,r=Number(e.limit)||25,o=null!==(n=e.keyword)&&void 0!==n?n:"",i={},o&&(i.name=(s={},f=mt.substring,p=o,f in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,s)),[4,xe({model:P.profession,page:t,limit:r,condition:i,queries:{raw:!0,nest:!0,include:{model:P.job_position_category,as:"job_position_category"}}})];case 1:return u=wt.apply(void 0,[l.sent(),2]),a=u[0],c=u[1],[2,[a,c]]}var s,f,p}))}))()},getOne:function(e){return yt((function(){var t;return vt(this,(function(r){switch(r.label){case 0:return[4,P.profession.findOne({where:{id:e},include:{model:P.job_position_category,as:"job_position_category"},nest:!0,raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return yt((function(){return vt(this,(function(t){switch(t.label){case 0:return[4,P.profession.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return yt((function(){return vt(this,(function(r){switch(r.label){case 0:return[4,ke(P.profession,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return yt((function(){return vt(this,(function(t){switch(t.label){case 0:return[4,Pe(P.profession,e)];case 1:return[2,t.sent()]}}))}))()}};const _t=gt;function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jt(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function kt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){jt(i,n,o,u,a,"next",e)}function a(e){jt(i,n,o,u,a,"throw",e)}u(void 0)}))}}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ot(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var xt={getAll:function(e,t){return kt((function(){var r,n,o,i;return Pt(this,(function(u){switch(u.label){case 0:return r=e.query,[4,_t.getAll(r)];case 1:return n=St.apply(void 0,[u.sent(),2]),o=n[0],i=n[1],[2,t.apiResponse(o,i)]}}))}))()},create:function(e,t){return kt((function(){var r,n;return Pt(this,(function(o){switch(o.label){case 0:return r=e.body,[4,_t.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return kt((function(){var r,n,o;return Pt(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,_t.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return kt((function(){var r,n;return Pt(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,_t.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return kt((function(){var r;return Pt(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,_t.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}};const At=ye(xt);const Rt={profession:fe({profession:ee().object({name:ee().string().required(),jobPositionCategoryId:ee().string()})}.profession)};var Et=o().Router();Et.get("",At.getAll),Et.get("/:id",At.getOne),Et.post("",He.protect,Rt.profession,He.authPage([E.ADMIN]),At.create),Et.patch("/:id",He.protect,Rt.profession,He.authPage([E.ADMIN]),At.update),Et.delete("/:id",He.protect,He.authPage([E.ADMIN]),At.delete);const Dt=Et,Tt=require("puppeteer");var Bt=r.n(Tt);r(147);function qt(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Gt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){qt(i,n,o,u,a,"next",e)}function a(e){qt(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Ct(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var It=we.Sequelize.Op;t().config();const Nt={getAll:function(e){return Gt((function(){var t,r,n,o,i,u,a,c,l;return Ct(this,(function(s){switch(s.label){case 0:return t=Number(e.page)||1,r=Number(e.limit)||25,o=null!==(n=e.keyword)&&void 0!==n?n:"",u=null!==(i=e.user_type_id)&&void 0!==i?i:"",a={},o&&(a.name=(f={},p=It.substring,d=o,p in f?Object.defineProperty(f,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[p]=d,f)),u&&(a.user_type_id=u),[4,P.user_account.findAndCountAll({where:a,offset:(t-1)*r,limit:r,raw:!0,attributes:{exclude:["password"]}})];case 1:return c=s.sent(),l={totalPages:Math.ceil(c.count/r),totalItems:null==c?void 0:c.count,itemsPerPage:r,pageIndex:t},[2,[c.rows,l]]}var f,p,d}))}))()},getOne:function(e){return Gt((function(){var t;return Ct(this,(function(r){switch(r.label){case 0:return[4,P.user_account.findOne({where:{id:e},raw:!0,attributes:{exclude:["password"]}})];case 1:if(!(t=r.sent()))throw A()(409,"Người dùng không tồn tại");return[2,t]}}))}))()},update:function(e,t){return Gt((function(){return Ct(this,(function(r){switch(r.label){case 0:return this.getOne(t),[4,P.user_account.update(e,{where:{id:t}})];case 1:return[2,r.sent()]}}))})).apply(this)},delete:function(e){return Gt((function(){var t;return Ct(this,(function(r){switch(r.label){case 0:return[4,P.user_account.destroy({where:{id:e}})];case 1:if(0===(t=r.sent()))throw A()(400,"Xoá user không thành công");return[2,t]}}))}))()},downloadPdf:function(e,t){return Gt((function(){var r,n,o,i;return Ct(this,(function(u){switch(u.label){case 0:r=e.body.url,u.label=1;case 1:return u.trys.push([1,8,,9]),[4,Bt().launch()];case 2:return[4,(n=u.sent()).newPage()];case 3:return[4,(o=u.sent()).goto(r,{waitUntil:"networkidle2"})];case 4:return u.sent(),[4,o.emulateMediaType("screen")];case 5:return u.sent(),[4,o.pdf({margin:{top:"100px",right:"50px",bottom:"100px",left:"50px"},printBackground:!0,format:"A4"})];case 6:return i=u.sent(),t.contentType("application/pdf"),t.send(i),[4,n.close()];case 7:return u.sent(),[3,9];case 8:return u.sent(),t.status(500).json({message:"Failed to generate PDF"}),[3,9];case 9:return[2]}}))}))()}};function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mt(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Kt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Mt(i,n,o,u,a,"next",e)}function a(e){Mt(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();var zt={getAll:function(e,t){return Kt((function(){var r,n,o,i;return Lt(this,(function(u){switch(u.label){case 0:return r=e.query,[4,Nt.getAll(r)];case 1:return n=Yt.apply(void 0,[u.sent(),2]),o=n[0],i=n[1],[2,t.apiResponse(o,i)]}}))}))()},getOne:function(e,t){return Kt((function(){var r,n;return Lt(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Nt.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Kt((function(){var r,n;return Lt(this,(function(o){switch(o.label){case 0:return r=e.params.id,n=e.body,[4,Nt.update(n,r)];case 1:return o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return Kt((function(){var r;return Lt(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Nt.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()},downloadPdf:function(e,t){return Kt((function(){return Lt(this,(function(r){switch(r.label){case 0:return[4,Nt.downloadPdf(e,t)];case 1:return r.sent(),[2]}}))}))()},viewPdf:function(e,t){return Kt((function(){return Lt(this,(function(e){return t.render("template",{data:[1,2,3],layout:null}),[2]}))}))()},uploadFile:function(e,t){return Kt((function(){return Lt(this,(function(t){return e.files.image,[2]}))}))()}};const Wt=ye(zt);var Vt=o().Router();Vt.get("",Wt.getAll),Vt.get("/:id",Wt.getOne),Vt.patch("/:id",Wt.update),Vt.delete("/:id",Wt.delete),Vt.get("/viewpdf",Wt.viewPdf),Vt.post("/generatePdf",Wt.downloadPdf);const Ht=Vt;function Ft(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Jt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Ft(i,n,o,u,a,"next",e)}function a(e){Ft(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Qt(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Zt={getAll:function(){return Jt((function(){return Qt(this,(function(e){switch(e.label){case 0:return[4,P.cv_template.findAll()];case 1:return[2,e.sent()]}}))}))()},getOne:function(e){return Jt((function(){var t;return Qt(this,(function(r){switch(r.label){case 0:return[4,P.cv_template.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy thông tin template");return[2,t]}}))}))()}};function $t(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Xt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){$t(i,n,o,u,a,"next",e)}function a(e){$t(i,n,o,u,a,"throw",e)}u(void 0)}))}}function er(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const tr=ye({getAll:function(e,t){return Xt((function(){var e;return er(this,(function(r){switch(r.label){case 0:return[4,Zt.getAll()];case 1:return e=r.sent(),[2,t.apiResponse(e)]}}))}))()},getOne:function(e,t){return Xt((function(){var r,n;return er(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Zt.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()}}),rr=require("apicache");var nr=r.n(rr);nr().options({headers:{"x-apicache-bypass":!0}});const or=nr().middleware;var ir=o().Router();ir.get("/",or("15 minutes"),tr.getAll),ir.get("/:id",tr.getOne);const ur=ir;var ar=2,cr=3,lr=1;function sr(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function fr(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();var pr=new we.Sequelize(process.env.DB_NAME,process.env.DB_USERNAME,process.env.DB_PASSWORD,{host:"localhost",logging:!0,pool:{max:5,min:0,acquire:3e4,idle:1e4},dialect:"mysql"}),dr=function(){var e,t=(e=function(){var e;return fr(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,pr.authenticate()];case 1:return t.sent(),console.log("Connection has been established successfully."),[3,3];case 2:return e=t.sent(),console.error("Unable to connect to the database:",e),[3,3];case 3:return[2]}}))},function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){sr(i,n,o,u,a,"next",e)}function a(e){sr(i,n,o,u,a,"throw",e)}u(void 0)}))});return function(){return t.apply(this,arguments)}}();const hr=function(e){return/^\{.*\}$/.test(e)||/^\[.*\]$/.test(e)};function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yr(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function wr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){yr(i,n,o,u,a,"next",e)}function a(e){yr(i,n,o,u,a,"throw",e)}u(void 0)}))}}function vr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){vr(e,t,r[t])}))}return e}function gr(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function _r(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Or(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||kr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e){return function(e){if(Array.isArray(e))return br(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t){if(e){if("string"==typeof e)return br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?br(e,t):void 0}}function Sr(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();var Pr={getOne:function(e){return wr((function(){var t,r,n,o,i;return Sr(this,(function(u){switch(u.label){case 0:return[4,P.resume_desired_job.findOne({where:{resume_id:e},raw:!0})];case 1:return t=u.sent(),[4,Promise.all([P.profession_desired_job.findAll({attributes:["resume_id",[pr.fn("GROUP_CONCAT",pr.col("profession_id")),"profession_id"]],where:{resume_id:e},group:["resume_id"],raw:!0}),P.resume_work_type.findAll({attributes:["resume_id",[pr.fn("GROUP_CONCAT",pr.col("work_type_id")),"work_type_id"]],where:{resume_id:e},group:["resume_id"],raw:!0}),P.welfare_desired_job.findAll({attributes:["resume_id",[pr.fn("GROUP_CONCAT",pr.col("welfare_id")),"welfare_id"]],where:{resume_id:e},group:["resume_id"],raw:!0})])];case 2:if(r=Or.apply(void 0,[u.sent(),3]),n=r[0],o=r[1],i=r[2],o.forEach((function(e){o.work_type_id=e.work_type_id.split(",").map(Number)})),n.forEach((function(e){n.profession_id=e.profession_id.split(",").map(Number)})),i.forEach((function(e){i.welfare_id=e.welfare_id.split(",").map(Number)})),delete i[0],delete n[0],delete o[0],!t)throw A()(404,"Không tìm thấy bản ghi");return[2,mr({},t,i,n,o)]}}))}))()},create:function(e){return wr((function(){var t,r,n,o,i,u,a,c,l,s;return Sr(this,(function(f){switch(f.label){case 0:return t=e.resume_id,r=e.profession_id,n=e.welfare_id,o=e.work_type_id,i=_r(e,["resume_id","profession_id","welfare_id","work_type_id"]),u=hr(r)?JSON.parse(r):r,a=hr(n)?JSON.parse(n):n,c=hr(o)?JSON.parse(o):o,l=u.map(function(){var e=wr((function(e){return Sr(this,(function(r){switch(r.label){case 0:return[4,P.profession_desired_job.create({resume_id:t,profession_id:e})];case 1:return[2,r.sent()]}}))}));return function(t){return e.apply(this,arguments)}}()),[4,P.resume_desired_job.create(gr(mr({resume_id:t},i),{status:lr}))];case 1:return s=f.sent(),[4,Promise.all(jr(l).concat([s,a.map((function(e){return P.welfare_desired_job.create({resume_id:t,welfare_id:e})})),c.map((function(e){return P.resume_work_type.create({resume_id:t,work_type_id:e})}))]))];case 2:return[2,f.sent()]}}))}))()},update:function(e,t){return wr((function(){var r,n,o,i,u,a,c,l,s;return Sr(this,(function(f){switch(f.label){case 0:return r=t.welfare_id,n=t.work_type_id,o=t.profession_id,i=_r(t,["welfare_id","work_type_id","profession_id"]),u=hr(o)?JSON.parse(o):o,a=hr(r)?JSON.parse(r):r,c=hr(n)?JSON.parse(n):n,[4,Promise.all([P.profession_desired_job.destroy({where:{resume_id:e}}),P.welfare_desired_job.destroy({where:{resume_id:e}}),P.resume_work_type.destroy({where:{resume_id:e}})])];case 1:return f.sent(),l=u.map((function(t){return P.profession_desired_job.create({resume_id:e,profession_id:t})})),s=P.resume_desired_job.update(gr(mr({},i),{status:lr}),{where:{resume_id:e}}),[4,Promise.all(jr(l).concat([s,a.map((function(t){return P.welfare_desired_job.create({resume_id:e,welfare_id:t})})),c.map((function(t){return P.resume_work_type.create({resume_id:e,work_type_id:t})}))]))];case 2:return[2,f.sent()]}}))}))()},delete:function(e){return wr((function(){return Sr(this,(function(t){switch(t.label){case 0:return[4,Pe(P.resume_desired_job,e)];case 1:return[2,t.sent()]}}))}))()}};const xr=Pr;function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rr(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Er(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Rr(i,n,o,u,a,"next",e)}function a(e){Rr(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Dr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Dr(e,t,r[t])}))}return e}function Br(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ar(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ar(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();var Cr={getAllByResume:function(e){return Er((function(){var t;return Gr(this,(function(r){switch(r.label){case 0:return[4,P.resume.findAll({where:{user_account_id:e,resume_type_id:2,isDeleted:!1},include:[{model:P.my_attach,as:"attachments"},{model:P.resume_title,as:"resume_title"},{model:P.resume_desired_job,as:"resume_desired_job"}],nest:!0,raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getOne:function(e){return Er((function(){var t,r,n,o,i;return Gr(this,(function(u){switch(u.label){case 0:return[4,P.resume.findOne({where:{id:e},include:[{model:P.user_account,as:"user_account",include:{model:P.resume_profile}},{model:P.my_attach,as:"attachments",include:{model:P.resume,as:"resume"}},{model:P.resume_title,as:"resume_title"},{model:P.resume_desired_job,as:"resume_desired_job"}],raw:!0,nest:!0})];case 1:return t=u.sent(),[4,P.resume_work_type.findAll({where:{resume_id:t.id},include:{model:P.work_type,as:"work_type"},nest:!0,raw:!0})];case 2:return r=u.sent(),[4,P.profession_desired_job.findAll({where:{resume_id:t.id},include:{model:P.profession,as:"profession"},nest:!0,raw:!0})];case 3:return n=u.sent(),[4,P.welfare_desired_job.findAll({where:{resume_id:t.id},nest:!0,raw:!0,include:{model:P.job_welfare,as:"job_welfare"}})];case 4:if(o=u.sent(),i=null==o?void 0:o.map((function(e){return e.welfare_id})),!t)throw A()(404,"Không tìm thấy bản ghi");return[2,Br(Tr({},t),{resume_work_type:r,profession_desired_job:n,welfare_id:i})]}}))}))()},create:function(e){return Er((function(){var t,r,n,o,i,u,a,c,l,s,f,p,d;return Gr(this,(function(h){switch(h.label){case 0:return t=e.user_account_id,r=e.resume_active,n=e.yearOfExperience,o=e.job_degree_value,i=e.file,u=e.title,a=e.profession_id,c=e.welfare_id,[4,P.resume.create({user_account_id:t,resume_type_id:2,resume_active:r,resume_complete:lr})];case 1:return l=h.sent(),[4,Promise.all([P.my_attach.create({file:i,resume_id:l.id,yearOfExperience:n,job_degree_value:o}),P.resume_title.create({resume_id:l.id,title:u})])];case 2:return s=qr.apply(void 0,[h.sent(),2]),f=s[0],p=s[1],[4,xr.create({resume_id:l.id,position_id:e.position_id,profession_id:a,salary_from:e.salary_from,salary_to:e.salary_to,work_type_id:e.work_type_id,work_home:e.work_home,provinces:e.provinces,districts:e.districts,welfare_id:c})];case 3:return d=h.sent(),[2,[f,p,d]]}}))}))()},update:function(e,t){return Er((function(){var r,n,o,i,u,a,c,l,s,f,p,d;return Gr(this,(function(h){switch(h.label){case 0:return r=t.resume_active,n=t.file,o=t.title,i=t.yearOfExperience,u=t.job_degree_value,a=t.profession_id,c=t.welfare_id,[4,P.resume.update({resume_active:r},{where:{id:e}})];case 1:return l=h.sent(),[4,Promise.all([P.my_attach.update({file:n,yearOfExperience:i,job_degree_value:u},{where:{resume_id:e}}),P.resume_title.update({title:o},{where:{resume_id:e}})])];case 2:return s=qr.apply(void 0,[h.sent(),2]),f=s[0],p=s[1],[4,xr.update(e,{position_id:t.position_id,profession_id:a,salary_from:t.salary_from,salary_to:t.salary_to,work_type_id:t.work_type_id,work_home:t.work_home,provinces:t.provinces,districts:t.districts,welfare_id:c})];case 3:return d=h.sent(),[2,[l,f,p,d]]}}))}))()},delete:function(e){return Er((function(){return Gr(this,(function(t){switch(t.label){case 0:return[4,Se(P.resume,{id:e},{isDeleted:!0})];case 1:return[2,t.sent()]}}))}))()}};const Ir=Cr;function Nr(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Ur(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Nr(i,n,o,u,a,"next",e)}function a(e){Nr(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Mr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Mr(e,t,r[t])}))}return e}function Yr(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Lr(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const zr=ye({getAll:function(e,t){return Ur((function(){var r,n;return Lr(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Ir.getAllByResume(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},getOne:function(e,t){return Ur((function(){var r,n;return Lr(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Ir.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return Ur((function(){var r,n,o;return Lr(this,(function(i){switch(i.label){case 0:return r=e.file,n=e.body,[4,Ir.create(Yr(Kr({},n),{file:null==r?void 0:r.filename}))];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},update:function(e,t){return Ur((function(){var r,n,o,i;return Lr(this,(function(u){switch(u.label){case 0:return r=e.file,n=e.body,o=e.params.id,[4,Ir.update(o,Yr(Kr({},n),{file:null==r?void 0:r.filename}))];case 1:return i=u.sent(),[2,t.apiResponse(i)]}}))}))()},delete:function(e,t){return Ur((function(){var r;return Lr(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Ir.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}}),Wr=require("multer");var Vr=r.n(Wr),Hr=Vr().diskStorage({destination:function(e,t,r){console.log(__dirname),r(null,h().join(__dirname,"../uploads"))},filename:function(e,t,r){var n="".concat(Date.now(),"-").concat(Math.round(1e9*Math.random()));r(null,"".concat(t.originalname,"_").concat(n,".").concat(t.mimetype.split("/")[1]))}});const Fr=Vr()({storage:Hr});var Jr=o().Router();Jr.get("/getAll/:id",zr.getAll),Jr.get("/:id",zr.getOne),Jr.post("",Fr.single("file"),zr.create),Jr.patch("/:id",Fr.single("file"),zr.update),Jr.delete("/:id",zr.delete);const Qr=Jr;var Zr=r(506).extend(r(120)),$r={resume_title:Zr.object({title:Zr.string().required().max(400)}),resume_profile:Zr.object({firstname:Zr.string().required(),lastname:Zr.string().required(),gender:Zr.string().valid("Male","Female","Other").required(),phone_number:Zr.string().pattern(/^(?:\+84|0)(?:\d{9}|\d{10})$/).required(),marial_status:Zr.number().valid(0,1).required(),provinces:Zr.string().required(),districts:Zr.string().required(),address:Zr.string().required(),birthday:Zr.date().format("YYYY-MM-DD").utc()}),resume_language:Zr.object({resume_id:Zr.string().required(),rs_language:Zr.string().valid("vn","en","fr","de","ru","cn","kr","jp","other").required(),rs_language_level:Zr.string().valid("1","2","3","4","5").required(),rs_language_certify:Zr.string()}),resume_objective:Zr.object({resume_id:Zr.string().required(),objective_job:Zr.string().required()}),resume_skill:Zr.object({resume_id:Zr.string().required(),skill_name:Zr.string().required(),skill_content:Zr.string(),skill_level:Zr.string().valid("0","1","2","3","4","5").required()}),resume_education:Zr.object({resume_id:Zr.string().required(),redu_name:Zr.string().required(),redu_degree:Zr.string().valid("0","1","2","3","4","5","6").required(),redu_date:Zr.date(),redu_desc:Zr.string()}),resume_certificate:Zr.object({resume_id:Zr.string().required(),cer_title:Zr.string().required(),cer_by:Zr.string().required(),cer_limit:Zr.boolean(),cer_form:Zr.date().required(),cer_to:Zr.date()}),resume_refer:Zr.object({resume_id:Zr.string().required(),ref_name:Zr.string().required(),ref_title:Zr.string().required(),ref_company:Zr.string().required(),ref_phone:Zr.string().pattern(/^(?:\+84|0)(?:\d{9}|\d{10})$/).required(),ref_email:Zr.string().email({minDomainSegments:2}).required()}),resume_template:{updateTemplate:Zr.object({cv_template_id:Zr.number().required()}),updateUi:Zr.object({cv_color:Zr.string().required(),cv_font:Zr.string().required(),cv_language:Zr.string().required(),cv_size:Zr.string().required()})},resume_work_type:Zr.object({resume_id:Zr.string().required(),work_type_id:Zr.number().required()}),resume_addioninfo:Zr.object({resume_id:Zr.string().required(),addioninfo:Zr.string().required()}),resume_desired_job:Zr.object({position_id:Zr.number().required(),profession_id:Zr.array().items(Zr.number()).required(),salary_from:Zr.string().required(),salary_to:Zr.string().required(),work_type_id:Zr.array().items(Zr.number()).required(),work_home:Zr.boolean().required(),provinces:Zr.number().required(),districts:Zr.number().required(),welfare_id:Zr.array().items(Zr.number()).required()}),resume_activity:Zr.object({resume_id:Zr.string().required(),organization:Zr.string().required(),role:Zr.string().required(),start_date:Zr.date().required(),end_date:Zr.date(),activity_des:Zr.string(),activity_current:Zr.boolean(),status:Zr.boolean()}),resume_experience:Zr.object({resume_id:Zr.string().required(),rexp_worktype_id:Zr.number(),rexp_title:Zr.string().required(),rexp_company:Zr.string().required(),rexp_workdesc:Zr.string().required(),rexp_form:Zr.date().required(),rexp_to:Zr.date(),experCurrent:Zr.boolean()})};var Xr=$r.resume_profile,en=$r.resume_language,tn=$r.resume_objective,rn=$r.resume_skill,nn=$r.resume_education,on=$r.resume_certificate,un=$r.resume_refer,an=$r.resume_template,cn=$r.resume_desired_job,ln=$r.resume_work_type,sn=$r.resume_addioninfo,fn=$r.resume_activity,pn=$r.resume_experience;const dn={resume_title:fe($r.resume_title),resume_profile:fe(Xr),resume_language:fe(en),resume_objective:fe(tn),resume_skill:fe(rn),resume_education:fe(nn),resume_certificate:fe(on),resume_refer:fe(un),resume_work_type:fe(ln),resume_template:{updateTemplate:fe(an.updateTemplate),updateUi:fe(an.updateUi)},resume_desired_job:fe(cn),resume_activity:fe(fn),resume_addioninfo:fe(sn),resume_experience:fe(pn)};function hn(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function bn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){hn(i,n,o,u,a,"next",e)}function a(e){hn(i,n,o,u,a,"throw",e)}u(void 0)}))}}function yn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){yn(e,t,r[t])}))}return e}function vn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function mn(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const gn={getAllByResume:function(e){return bn((function(){var t;return mn(this,(function(r){switch(r.label){case 0:return[4,P.resume_activity.findAll({where:{resume_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getOne:function(e){return bn((function(){var t;return mn(this,(function(r){switch(r.label){case 0:return[4,P.resume_activity.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return bn((function(){return mn(this,(function(t){switch(t.label){case 0:return[4,P.resume.findOne({where:{id:e.resume_id},raw:!0})];case 1:if(!t.sent())throw A()(404,"Không tìm thấy bản ghi");return[2,P.resume_activity.create(vn(wn({},e),{status:lr}))]}}))}))()},update:function(e,t){return bn((function(){return mn(this,(function(r){switch(r.label){case 0:return[4,ke(P.resume_activity,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return bn((function(){return mn(this,(function(t){switch(t.label){case 0:return[4,Pe(P.resume_activity,e)];case 1:return[2,t.sent()]}}))}))()}};function _n(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function On(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){_n(i,n,o,u,a,"next",e)}function a(e){_n(i,n,o,u,a,"throw",e)}u(void 0)}))}}function jn(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const kn=ye({getAll:function(e,t){return On((function(){var r,n;return jn(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,gn.getAllByResume(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},getOne:function(e,t){return On((function(){var r,n;return jn(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,gn.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return On((function(){var r,n;return jn(this,(function(o){switch(o.label){case 0:return r=e.body,[4,gn.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return On((function(){var r,n,o;return jn(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,gn.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return On((function(){var r;return jn(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,gn.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var Sn=o().Router();Sn.get("/getAll/:id",kn.getAll),Sn.get("/:id",kn.getOne),Sn.post("",dn.resume_activity,kn.create),Sn.patch("/:id",dn.resume_activity,kn.update),Sn.delete("/:id",kn.delete);const Pn=Sn;function xn(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function An(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){xn(i,n,o,u,a,"next",e)}function a(e){xn(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Rn(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const En={getAllByResume:function(e){return An((function(){var t;return Rn(this,(function(r){switch(r.label){case 0:return[4,P.resume_certificate.findAll({where:{resume_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getOne:function(e){return An((function(){var t;return Rn(this,(function(r){switch(r.label){case 0:return[4,P.resume_certificate.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return An((function(){return Rn(this,(function(t){switch(t.label){case 0:return[4,P.resume.findOne({where:{id:e.resume_id},raw:!0})];case 1:if(!t.sent())throw A()(404,"Không tìm thấy bản ghi");return[2,P.resume_certificate.create(e)]}}))}))()},update:function(e,t){return An((function(){return Rn(this,(function(r){switch(r.label){case 0:return[4,ke(P.resume_certificate,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return An((function(){return Rn(this,(function(t){switch(t.label){case 0:return[4,Pe(P.resume_certificate,e)];case 1:return[2,t.sent()]}}))}))()}};function Dn(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Tn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Dn(i,n,o,u,a,"next",e)}function a(e){Dn(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Bn(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const qn=ye({getAll:function(e,t){return Tn((function(){var r,n;return Bn(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,En.getAllByResume(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},getOne:function(e,t){return Tn((function(){var r,n;return Bn(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,En.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return Tn((function(){var r,n;return Bn(this,(function(o){switch(o.label){case 0:return r=e.body,[4,En.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Tn((function(){var r,n,o;return Bn(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,En.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return Tn((function(){var r;return Bn(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,En.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var Gn=o().Router();Gn.get("/getAll/:id",qn.getAll),Gn.get("/:id",qn.getOne),Gn.post("",dn.resume_certificate,qn.create),Gn.patch("/:id",dn.resume_certificate,qn.update),Gn.delete("/:id",qn.delete);const Cn=Gn;function In(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Nn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){In(i,n,o,u,a,"next",e)}function a(e){In(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Un(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Mn=ye({getOne:function(e,t){return Nn((function(){var r,n;return Un(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,xr.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return Nn((function(){var r,n;return Un(this,(function(o){switch(o.label){case 0:return r=e.body,[4,xr.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Nn((function(){var r,n,o;return Un(this,(function(i){switch(i.label){case 0:return r=e.params.resume_id,n=e.body,[4,xr.update(r,n)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return Nn((function(){var r;return Un(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,xr.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var Kn=o().Router();Kn.get("/:id",Mn.getOne),Kn.patch("/:resume_id",dn.resume_desired_job,Mn.update),Kn.post("/",Mn.create),Kn.delete("/:id",Mn.delete);const Yn=Kn;function Ln(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function zn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Ln(i,n,o,u,a,"next",e)}function a(e){Ln(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Wn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Wn(e,t,r[t])}))}return e}function Hn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Fn(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const Jn={getAllByResume:function(e){return zn((function(){var t;return Fn(this,(function(r){switch(r.label){case 0:return[4,P.resume_education.findAll({where:{resume_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getOne:function(e){return zn((function(){var t;return Fn(this,(function(r){switch(r.label){case 0:return[4,P.resume_education.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return zn((function(){return Fn(this,(function(t){switch(t.label){case 0:return[4,P.resume.findOne({where:{id:e.resume_id},raw:!0})];case 1:if(!t.sent())throw A()(404,"Không tìm thấy bản ghi");return[2,P.resume_education.create(Hn(Vn({},e),{status:lr}))]}}))}))()},update:function(e,t){return zn((function(){return Fn(this,(function(r){switch(r.label){case 0:return[4,ke(P.resume_education,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return zn((function(){return Fn(this,(function(t){switch(t.label){case 0:return[4,Pe(P.resume_education,e)];case 1:return[2,t.sent()]}}))}))()}};function Qn(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Zn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Qn(i,n,o,u,a,"next",e)}function a(e){Qn(i,n,o,u,a,"throw",e)}u(void 0)}))}}function $n(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Xn=ye({getAll:function(e,t){return Zn((function(){var r,n;return $n(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Jn.getAllByResume(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},getOne:function(e,t){return Zn((function(){var r,n;return $n(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Jn.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return Zn((function(){var r,n;return $n(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Jn.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Zn((function(){var r,n,o;return $n(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,Jn.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return Zn((function(){var r;return $n(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Jn.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var eo=o().Router();eo.get("/getAll/:id",Xn.getAll),eo.get("/:id",Xn.getOne),eo.post("",dn.resume_education,Xn.create),eo.patch("/:id",dn.resume_education,Xn.update),eo.delete("/:id",Xn.delete);const to=eo;function ro(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function no(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){ro(i,n,o,u,a,"next",e)}function a(e){ro(i,n,o,u,a,"throw",e)}u(void 0)}))}}function oo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function io(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){oo(e,t,r[t])}))}return e}function uo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function ao(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const co={create:function(e){return no((function(){return ao(this,(function(t){switch(t.label){case 0:return[4,P.resume.findOne({where:{id:e.resume_id},raw:!0})];case 1:if(!t.sent())throw A()(404,"Không tìm thấy bản ghi");return[4,P.resume_language.create(uo(io({},e),{status:lr}))];case 2:return[2,t.sent()]}}))}))()},update:function(e,t){return no((function(){return ao(this,(function(r){switch(r.label){case 0:return[4,ke(P.resume_language,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return no((function(){return ao(this,(function(t){switch(t.label){case 0:return[4,Pe(P.resume_language,e)];case 1:return[2,t.sent()]}}))}))()},getOne:function(e){return no((function(){var t;return ao(this,(function(r){switch(r.label){case 0:return[4,P.resume_language.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getAllByResume:function(e){return no((function(){var t;return ao(this,(function(r){switch(r.label){case 0:return[4,P.resume_language.findAll({where:{resume_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()}};function lo(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function so(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){lo(i,n,o,u,a,"next",e)}function a(e){lo(i,n,o,u,a,"throw",e)}u(void 0)}))}}function fo(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const po=ye({getAll:function(e,t){return so((function(){var r,n;return fo(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,co.getAllByResume(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return so((function(){var r,n;return fo(this,(function(o){switch(o.label){case 0:return r=e.body,[4,co.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return so((function(){var r,n,o;return fo(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,co.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return so((function(){var r,n;return fo(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,co.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return so((function(){var r;return fo(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,co.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var ho=o().Router();ho.post("",dn.resume_language,po.create),ho.patch("/:id",dn.resume_language,po.update),ho.get("/:id",po.getOne),ho.get("/getAll/:id",po.getAll),ho.delete("/:id",po.delete);const bo=ho;function yo(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function wo(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){yo(i,n,o,u,a,"next",e)}function a(e){yo(i,n,o,u,a,"throw",e)}u(void 0)}))}}function vo(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const mo={getAllByResume:function(e){return wo((function(){var t;return vo(this,(function(r){switch(r.label){case 0:return[4,P.resume_objective.findAll({where:{resume_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getOne:function(e){return wo((function(){var t;return vo(this,(function(r){switch(r.label){case 0:return[4,P.resume_objective.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return wo((function(){return vo(this,(function(t){switch(t.label){case 0:return[4,P.resume.findOne({where:{id:e.resume_id},raw:!0})];case 1:if(!t.sent())throw A()(404,"Không tìm thấy bản ghi");return[2,P.resume_objective.create(e)]}}))}))()},update:function(e,t){return wo((function(){return vo(this,(function(r){switch(r.label){case 0:return[4,ke(P.resume_objective,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return wo((function(){return vo(this,(function(t){switch(t.label){case 0:return[4,Pe(P.resume_objective,e)];case 1:return[2,t.sent()]}}))}))()}};function go(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function _o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){go(i,n,o,u,a,"next",e)}function a(e){go(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Oo(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const jo=ye({create:function(e,t){return _o((function(){var r,n;return Oo(this,(function(o){switch(o.label){case 0:return r=e.body,[4,mo.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return _o((function(){var r,n,o;return Oo(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,mo.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getAll:function(e,t){return _o((function(){var r,n;return Oo(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,mo.getAllByResume(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},getOne:function(e,t){return _o((function(){var r,n;return Oo(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,mo.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return _o((function(){var r;return Oo(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,mo.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var ko=o().Router();ko.post("",dn.resume_objective,jo.create),ko.patch("/:id",dn.resume_objective,jo.update),ko.get("/getAll/:id",jo.getAll),ko.get("/:id",jo.getOne),ko.delete("/:id",jo.delete);const So=ko;function Po(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function xo(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Po(i,n,o,u,a,"next",e)}function a(e){Po(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Ao(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const Ro={getAllByResume:function(e){return xo((function(){var t;return Ao(this,(function(r){switch(r.label){case 0:return[4,P.resume_refer.findAll({where:{resume_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getOne:function(e){return xo((function(){var t;return Ao(this,(function(r){switch(r.label){case 0:return[4,P.resume_refer.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return xo((function(){return Ao(this,(function(t){switch(t.label){case 0:return[4,P.resume.findOne({where:{id:e.resume_id},raw:!0})];case 1:if(!t.sent())throw A()(404,"Không tìm thấy bản ghi");return[2,P.resume_refer.create(e)]}}))}))()},update:function(e,t){return xo((function(){return Ao(this,(function(r){switch(r.label){case 0:return[4,ke(P.resume_refer,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return xo((function(){return Ao(this,(function(t){switch(t.label){case 0:return[4,Pe(P.resume_refer,e)];case 1:return[2,t.sent()]}}))}))()}};function Eo(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Do(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Eo(i,n,o,u,a,"next",e)}function a(e){Eo(i,n,o,u,a,"throw",e)}u(void 0)}))}}function To(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Bo=ye({getAll:function(e,t){return Do((function(){var r,n;return To(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Ro.getAllByResume(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},getOne:function(e,t){return Do((function(){var r,n;return To(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Ro.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return Do((function(){var r,n;return To(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Ro.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Do((function(){var r,n,o;return To(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,Ro.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return Do((function(){var r;return To(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Ro.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var qo=o().Router();qo.get("/getAll/:id",Bo.getAll),qo.get("/:id",Bo.getOne),qo.post("",dn.resume_refer,Bo.create),qo.patch("/:id",dn.resume_refer,Bo.update),qo.delete("/:id",Bo.delete);const Go=qo;function Co(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Io(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Co(i,n,o,u,a,"next",e)}function a(e){Co(i,n,o,u,a,"throw",e)}u(void 0)}))}}function No(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){No(e,t,r[t])}))}return e}function Mo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Ko(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Yo={getOne:function(e){return Io((function(){var t;return Ko(this,(function(r){switch(r.label){case 0:return[4,P.resume_title.findOne({where:{resume_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},update:function(e,t){return Io((function(){return Ko(this,(function(r){switch(r.label){case 0:return[4,ke(P.resume_title,e,Mo(Uo({},t),{status:lr}))];case 1:return[2,r.sent()]}}))}))()}};function Lo(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function zo(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Lo(i,n,o,u,a,"next",e)}function a(e){Lo(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Wo(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Vo=ye({getOne:function(e,t){return zo((function(){var r,n;return Wo(this,(function(o){switch(o.label){case 0:return r=e.params.resume_id,[4,Yo.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return zo((function(){var r,n,o;return Wo(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.resume_id,[4,Yo.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()}});function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fo(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Jo(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Fo(i,n,o,u,a,"next",e)}function a(e){Fo(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Qo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Qo(e,t,r[t])}))}return e}function $o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Xo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ho(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ho(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var ti=we.Sequelize.Op,ri={getAll:function(e){return Jo((function(){var t,r,n,o,i,u,a,c,l,s,f,p,d,h,b;return ei(this,(function(y){switch(y.label){case 0:return t=Number(e.page)||1,r=Number(e.limit)||25,o=null!==(n=e.keyword)&&void 0!==n?n:"",i={},u={},a={},c={},o&&(c.title=Qo({},ti.substring,o)),e.user_account_id&&(l=e.user_account_id,i.user_account_id=Qo({},ti.eq,l)),e.isDeleted&&(s=e.isDeleted,i.isDeleted=Qo({},ti.eq,s)),e.resume_type_id&&(f=e.resume_type_id,i.resume_type_id=Qo({},ti.eq,f)),e.profession_id&&(p=e.profession_id,u.id=Qo({},ti.eq,p)),e.provinces&&(a.provinces=Qo({},ti.eq,e.provinces)),e.resume_active!=cr&&e.resume_active!=ar||(i.resume_active=Qo({},ti.eq,e.resume_active)),e.isFindJobSeeker&&(i.resume_active=Qo({},ti.or,[cr,ar])),[4,xe({model:P.resume,page:t,limit:r,condition:i,queries:{nest:!0,include:[{model:P.resume_title,as:"resume_title",where:Object.keys(c).length>0?c:null},{model:P.profession,where:Object.keys(u).length>0?u:null},{model:P.work_type,as:"work_type"},{model:P.resume_desired_job,as:"resume_desired_job"},{model:P.user_account,as:"user_account",include:{model:P.resume_profile,where:Object.keys(a).length>0?a:null}},{model:P.my_attach,as:"attachments"}]}})];case 1:return d=Xo.apply(void 0,[y.sent(),2]),h=d[0],b=d[1],[2,[h,b]]}}))}))()},getOne:function(e){return Jo((function(){var t,r,n,o,i;return ei(this,(function(u){switch(u.label){case 0:return[4,P.resume.findOne({where:{id:e},nest:!0,raw:!0})];case 1:if(!(t=u.sent()))throw A()(404,"Không tìm thấy bản ghi");return r=t.resume_type_id,[4,P.profession_desired_job.findAll({where:{resume_id:e},include:{model:P.profession,as:"profession"}})];case 2:return n=u.sent(),[4,P.resume_work_type.findAll({where:{resume_id:e},include:{model:P.work_type,as:"work_type"}})];case 3:return o=u.sent(),[4,P.welfare_desired_job.findAll({where:{resume_id:e},include:{model:P.job_welfare,as:"job_welfare"}})];case 4:return i=u.sent(),2!=r?[3,6]:[4,P.resume.findOne({where:{id:e},include:[{model:P.resume_title,as:"resume_title"},{model:P.user_account,as:"user_account",include:{model:P.resume_profile}},{model:P.resume_desired_job,as:"resume_desired_job"},{model:P.my_attach,as:"attachments"}],nest:!0,raw:!0})];case 5:return[2,$o(Zo({},u.sent()),{profession_desired_job:n,resume_work_type:o,welfare_desired_job:i})];case 6:return 1!=r?[3,8]:[4,P.resume.findOne({where:{id:e},include:[{model:P.resume_title,as:"resume_title"},{model:P.user_account,as:"user_account",include:{model:P.resume_profile}},{model:P.resume_desired_job,as:"resume_desired_job"},{model:P.resume_objective,as:"resume_objective"},{model:P.resume_skill},{model:P.resume_language,as:"resume_language"},{model:P.work_type,as:"work_type"},{model:P.resume_experience},{model:P.resume_addioninfo,as:"resume_addioninfo"},{model:P.resume_education,as:"resume_education"},{model:P.resume_certificate,as:"resume_certificate"},{model:P.profession}],nest:!0})];case 7:return[2,u.sent()];case 8:return[2,t]}}))}))()},create:function(e){return Jo((function(){return ei(this,(function(t){return[2,P.resume.create(e)]}))}))()},update:function(e,t){return Jo((function(){return ei(this,(function(r){switch(r.label){case 0:return[4,ke(P.resume,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return Jo((function(){return ei(this,(function(t){switch(t.label){case 0:return[4,Se(P.resume,{id:e},{isDeleted:!0})];case 1:return[2,t.sent()]}}))}))()}};const ni=ri;function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ii(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function ui(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){ii(i,n,o,u,a,"next",e)}function a(e){ii(i,n,o,u,a,"throw",e)}u(void 0)}))}}function ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ci(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var li={getAll:function(e,t){return ui((function(){var r,n,o,i;return ci(this,(function(u){switch(u.label){case 0:return r=e.query,[4,ni.getAll(r)];case 1:return n=ai.apply(void 0,[u.sent(),2]),o=n[0],i=n[1],[2,t.apiResponse(o,i)]}}))}))()},updateResumeStatus:function(e,t){return ui((function(){var r,n,o;return ci(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,ni.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},create:function(e,t){return ui((function(){var r,n;return ci(this,(function(o){switch(o.label){case 0:return r=e.body,[4,ni.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return ui((function(){var r,n,o;return ci(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,ni.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return ui((function(){var r,n;return ci(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,ni.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return ui((function(){var r;return ci(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,ni.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}};const si=ye(li);function fi(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function pi(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){fi(i,n,o,u,a,"next",e)}function a(e){fi(i,n,o,u,a,"throw",e)}u(void 0)}))}}function di(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){di(e,t,r[t])}))}return e}function bi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function yi(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function wi(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const vi={getOne:function(e){return pi((function(){var t,r,n;return wi(this,(function(o){switch(o.label){case 0:return[4,P.user_account.findOne({where:{id:e},include:[{model:P.resume,as:"resume"}],nest:!0,raw:!0})];case 1:if(t=o.sent(),r=t.firstname,n=t.lastname,!t)throw A()(404,"Không tìm thấy bản ghi");return[4,P.resume_profile.findOne({where:{user_account_id:e},raw:!0})];case 2:return[2,bi(hi({},o.sent()),{firstname:r,lastname:n})]}}))}))()},update:function(e,t){return pi((function(){var r,n,o;return wi(this,(function(i){switch(i.label){case 0:return r=t.firstname,n=t.lastname,o=yi(t,["firstname","lastname"]),[4,Se(P.user_account,{id:e},{firstname:r,lastname:n})];case 1:return i.sent(),[2,Se(P.resume_profile,{user_account_id:e},bi(hi({},o),{status:lr}))]}}))}))()}};function mi(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function gi(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){mi(i,n,o,u,a,"next",e)}function a(e){mi(i,n,o,u,a,"throw",e)}u(void 0)}))}}function _i(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Oi=ye({update:function(e,t){return gi((function(){var r,n,o;return _i(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.user_id,[4,vi.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return gi((function(){var r,n;return _i(this,(function(o){switch(o.label){case 0:return r=e.params.user_id,[4,vi.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()}});var ji=o().Router();ji.get("/",He.protect,si.getAll),ji.get("/:id",si.getOne),ji.get("/resume-profile/:user_id",He.protect,He.authPage([E.JOBSEEKER]),Oi.getOne),ji.post("",si.create),ji.patch("/:id",si.update),ji.patch("/update-resume-title/:resume_id",He.protect,He.authPage([E.JOBSEEKER]),dn.resume_title,Vo.update),ji.patch("/update-resume-profile/:resume_id",He.protect,He.authPage([E.JOBSEEKER]),dn.resume_profile,Oi.update),ji.delete("/:id",si.delete);const ki=ji;function Si(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Pi(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Si(i,n,o,u,a,"next",e)}function a(e){Si(i,n,o,u,a,"throw",e)}u(void 0)}))}}function xi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ai(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){xi(e,t,r[t])}))}return e}function Ri(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Ei(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const Di={getAllByResume:function(e){return Pi((function(){var t;return Ei(this,(function(r){switch(r.label){case 0:return[4,P.resume_skill.findAll({where:{resume_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getOne:function(e){return Pi((function(){var t;return Ei(this,(function(r){switch(r.label){case 0:return[4,P.resume_skill.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return Pi((function(){return Ei(this,(function(t){switch(t.label){case 0:return[4,P.resume.findOne({where:{id:e.resume_id},raw:!0})];case 1:if(!t.sent())throw A()(404,"Không tìm thấy bản ghi");return[2,P.resume_skill.create(Ri(Ai({},e),{status:lr}))]}}))}))()},update:function(e,t){return Pi((function(){return Ei(this,(function(r){switch(r.label){case 0:return[4,ke(P.resume_skill,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return Pi((function(){return Ei(this,(function(t){switch(t.label){case 0:return[4,Pe(P.resume_skill,e)];case 1:return[2,t.sent()]}}))}))()}};function Ti(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Bi(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Ti(i,n,o,u,a,"next",e)}function a(e){Ti(i,n,o,u,a,"throw",e)}u(void 0)}))}}function qi(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Gi=ye({getAll:function(e,t){return Bi((function(){var r,n;return qi(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Di.getAllByResume(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},getOne:function(e,t){return Bi((function(){var r,n;return qi(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Di.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return Bi((function(){var r,n;return qi(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Di.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Bi((function(){var r,n,o;return qi(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,Di.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return Bi((function(){var r;return qi(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Di.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var Ci=o().Router();Ci.get("/getAll/:id",Gi.getAll),Ci.get("/:id",Gi.getOne),Ci.post("",dn.resume_skill,Gi.create),Ci.patch("/:id",dn.resume_skill,Gi.update),Ci.delete("/:id",Gi.delete);const Ii=Ci;function Ni(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Ui(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Ni(i,n,o,u,a,"next",e)}function a(e){Ni(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Mi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ki(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Yi(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var Li={getOne:function(e){return Ui((function(){var t;return Yi(this,(function(r){switch(r.label){case 0:return[4,P.resume_template.findOne({where:{resume_id:e},include:[{model:P.cv_template,as:"cvTemplate",attributes:["html_template_en","html_template_vi","color_pick"]}],raw:!0,nest:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},updateUiCv:function(e,t){return Ui((function(){return Yi(this,(function(r){switch(r.label){case 0:return[4,Se(P.resume_template,{resume_id:e},t)];case 1:return[2,r.sent()]}}))}))()},changeTemplate:function(e,t){return Ui((function(){var r,n,o;return Yi(this,(function(i){switch(i.label){case 0:return r=t.cv_template_id,[4,P.cv_template.findOne({where:{id:r},attributes:{exclude:["id"]},raw:!0})];case 1:return n=i.sent(),o=Ki(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Mi(e,t,r[t])}))}return e}({},n),{cv_color:n.default_template_color,cv_font_color:"fontCVColorBlack",cv_template_id:r}),[4,Se(P.resume_template,{resume_id:e},o)];case 2:return[2,i.sent()]}}))}))()}};const zi=Li;function Wi(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Vi(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Wi(i,n,o,u,a,"next",e)}function a(e){Wi(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Hi(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Fi=ye({getOne:function(e,t){return Vi((function(){var r,n;return Hi(this,(function(o){switch(o.label){case 0:return r=e.params.resume_id,[4,zi.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},changeTemplate:function(e,t){return Vi((function(){var r,n,o;return Hi(this,(function(i){switch(i.label){case 0:return r=e.params.resume_id,n=e.body,[4,zi.changeTemplate(r,n)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},updateUI:function(e,t){return Vi((function(){var r,n,o;return Hi(this,(function(i){switch(i.label){case 0:return r=e.params.resume_id,n=e.body,[4,zi.updateUiCv(r,n)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()}});var Ji=dn.resume_template,Qi=o().Router();Qi.get("/:resume_id",Fi.getOne),Qi.patch("/update-ui-cv/:resume_id",Ji.updateUi,Fi.updateUI),Qi.patch("/update-template/:resume_id",Ji.updateTemplate,Fi.changeTemplate);const Zi=Qi;var $i=o().Router();$i.get("/:resume_id",He.protect,He.authPage([E.JOBSEEKER]),Vo.getOne),$i.patch("/:resume_id",He.protect,He.authPage([E.JOBSEEKER]),dn.resume_title,Vo.update);const Xi=$i;function eu(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function tu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){eu(i,n,o,u,a,"next",e)}function a(e){eu(i,n,o,u,a,"throw",e)}u(void 0)}))}}function ru(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const nu={getOne:function(e){return tu((function(){var t;return ru(this,(function(r){switch(r.label){case 0:return[4,P.resume_work_type.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return tu((function(){return ru(this,(function(t){switch(t.label){case 0:return[4,P.resume.findOne({where:{id:e.resume_id},raw:!0})];case 1:if(!t.sent())throw A()(404,"Không tìm thấy bản ghi");return[2,P.resume_work_type.create(e)]}}))}))()},update:function(e,t){return tu((function(){return ru(this,(function(r){switch(r.label){case 0:return[4,ke(P.resume_work_type,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return tu((function(){return ru(this,(function(t){switch(t.label){case 0:return[4,Pe(P.resume_work_type,e)];case 1:return[2,t.sent()]}}))}))()}};function ou(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function iu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){ou(i,n,o,u,a,"next",e)}function a(e){ou(i,n,o,u,a,"throw",e)}u(void 0)}))}}function uu(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const au=ye({getOne:function(e,t){return iu((function(){var r,n;return uu(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,nu.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return iu((function(){var r,n;return uu(this,(function(o){switch(o.label){case 0:return r=e.body,[4,nu.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return iu((function(){var r,n,o;return uu(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,nu.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return iu((function(){var r;return uu(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,nu.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var cu=o().Router();cu.get("/:id",au.getOne),cu.post("",dn.resume_work_type,au.create),cu.patch("/:id",dn.resume_work_type,au.update),cu.delete("/:id",au.delete);const lu=cu;function su(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function fu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){su(i,n,o,u,a,"next",e)}function a(e){su(i,n,o,u,a,"throw",e)}u(void 0)}))}}function pu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function du(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){pu(e,t,r[t])}))}return e}function hu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function bu(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const yu={getAllByResume:function(e){return fu((function(){var t;return bu(this,(function(r){switch(r.label){case 0:return[4,P.resume_addioninfo.findAll({where:{resume_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getOne:function(e){return fu((function(){var t;return bu(this,(function(r){switch(r.label){case 0:return[4,P.resume_addioninfo.findOne({where:{resume_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return fu((function(){return bu(this,(function(t){switch(t.label){case 0:return[4,P.resume.findOne({where:{id:e.resume_id},raw:!0})];case 1:if(!t.sent())throw A()(404,"Không tìm thấy bản ghi");return[4,P.resume_addioninfo.findOne({where:{resume_id:e.resume_id}})];case 2:if(t.sent())throw A()(404,"Duplicate resume_addioninfo");return[2,P.resume_addioninfo.create(hu(du({},e),{status:lr}))]}}))}))()},update:function(e,t){return fu((function(){return bu(this,(function(r){switch(r.label){case 0:return[4,ke(P.resume_addioninfo,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return fu((function(){return bu(this,(function(t){switch(t.label){case 0:return[4,Pe(P.resume_addioninfo,e)];case 1:return[2,t.sent()]}}))}))()}};function wu(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function vu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){wu(i,n,o,u,a,"next",e)}function a(e){wu(i,n,o,u,a,"throw",e)}u(void 0)}))}}function mu(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const gu=ye({getAll:function(e,t){return vu((function(){var r,n;return mu(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,yu.getAllByResume(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},getOne:function(e,t){return vu((function(){var r,n;return mu(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,yu.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return vu((function(){var r,n;return mu(this,(function(o){switch(o.label){case 0:return r=e.body,[4,yu.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return vu((function(){var r,n,o;return mu(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,yu.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return vu((function(){var r;return mu(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,yu.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var _u=o().Router();_u.get("/getAll/:id",gu.getAll),_u.get("/:id",gu.getOne),_u.post("",dn.resume_addioninfo,gu.create),_u.patch("/:id",dn.resume_addioninfo,gu.update),_u.delete("/:id",gu.delete);const Ou=_u;function ju(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function ku(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){ju(i,n,o,u,a,"next",e)}function a(e){ju(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Su(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Su(e,t,r[t])}))}return e}function xu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Au(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const Ru={getAllByResume:function(e){return ku((function(){var t;return Au(this,(function(r){switch(r.label){case 0:return[4,P.resume_experience.findAll({where:{resume_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getOne:function(e){return ku((function(){var t;return Au(this,(function(r){switch(r.label){case 0:return[4,P.resume_experience.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return ku((function(){return Au(this,(function(t){switch(t.label){case 0:return[4,P.resume.findOne({where:{id:e.resume_id},raw:!0})];case 1:if(!t.sent())throw A()(404,"Không tìm thấy bản ghi");return[2,P.resume_experience.create(xu(Pu({},e),{status:lr}))]}}))}))()},update:function(e,t){return ku((function(){return Au(this,(function(r){switch(r.label){case 0:return[4,ke(P.resume_experience,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return ku((function(){return Au(this,(function(t){switch(t.label){case 0:return[4,Pe(P.resume_experience,e)];case 1:return[2,t.sent()]}}))}))()}};function Eu(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Du(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Eu(i,n,o,u,a,"next",e)}function a(e){Eu(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Tu(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Bu=ye({getAll:function(e,t){return Du((function(){var r,n;return Tu(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Ru.getAllByResume(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},getOne:function(e,t){return Du((function(){var r,n;return Tu(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Ru.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return Du((function(){var r,n;return Tu(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Ru.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Du((function(){var r,n,o;return Tu(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,Ru.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return Du((function(){var r;return Tu(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Ru.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var qu=o().Router();qu.get("/getAll/:id",Bu.getAll),qu.get("/:id",Bu.getOne),qu.post("",dn.resume_experience,Bu.create),qu.patch("/:id",dn.resume_experience,Bu.update),qu.delete("/:id",Bu.delete);const Gu=qu;function Cu(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Iu(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const Nu={getAll:function(){return(e=function(){var e;return Iu(this,(function(t){switch(t.label){case 0:return[4,P.work_type.findAll({raw:!0})];case 1:if(!(e=t.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,e]}}))},function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Cu(i,n,o,u,a,"next",e)}function a(e){Cu(i,n,o,u,a,"throw",e)}u(void 0)}))})();var e}};function Uu(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Mu(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Ku=ye({getAll:function(e,t){return(r=function(){var e;return Mu(this,(function(r){switch(r.label){case 0:return[4,Nu.getAll()];case 1:return e=r.sent(),[2,t.apiResponse(e)]}}))},function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function u(e){Uu(i,n,o,u,a,"next",e)}function a(e){Uu(i,n,o,u,a,"throw",e)}u(void 0)}))})();var r}});var Yu=o().Router();Yu.get("/",Ku.getAll);const Lu=Yu;function zu(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Wu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){zu(i,n,o,u,a,"next",e)}function a(e){zu(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Vu(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const Hu={getAll:function(){return Wu((function(){return Vu(this,(function(e){switch(e.label){case 0:return[4,P.company.findAll()];case 1:return[2,e.sent()]}}))}))()},getOne:function(e){return Wu((function(){var t;return Vu(this,(function(r){switch(r.label){case 0:return[4,P.company.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"không tìm thấy thông tin công ty");return[2,t]}}))}))()},create:function(e){return Wu((function(){return Vu(this,(function(t){switch(t.label){case 0:return[4,P.company.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return Wu((function(){return Vu(this,(function(r){switch(r.label){case 0:return console.log("TCL: update -> data",t),[4,ke(P.company,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return Wu((function(){return Vu(this,(function(t){switch(t.label){case 0:return[4,Pe(P.company,e)];case 1:return[2,t.sent()]}}))}))()}};function Fu(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Ju(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Fu(i,n,o,u,a,"next",e)}function a(e){Fu(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Qu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function $u(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var Xu={getAll:function(e,t){return Ju((function(){var e;return $u(this,(function(r){switch(r.label){case 0:return[4,Hu.getAll()];case 1:return e=r.sent(),[2,t.apiResponse(e)]}}))}))()},getOne:function(e,t){return Ju((function(){var r,n;return $u(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Hu.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return Ju((function(){var r,n;return $u(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Hu.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Ju((function(){var r,n,o,i,u,a,c,l;return $u(this,(function(s){switch(s.label){case 0:return o=null===(r=e.files[0])||void 0===r?void 0:r.filename,i=e.params.id,u=null===(n=e.files[1])||void 0===n?void 0:n.filename,a=e.body,c=Zu(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Qu(e,t,r[t])}))}return e}({},a),{logo:o||null,banner:u||null}),o||delete c.logo,u||delete c.banner,[4,Hu.update(i,c)];case 1:return l=s.sent(),[2,t.apiResponse(l)]}}))}))()},delete:function(e,t){return Ju((function(){var r;return $u(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Hu.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}};const ea=ye(Xu);var ta=o().Router();ta.post("",ea.create),ta.get("",ea.getAll),ta.get("/:id",ea.getOne),ta.patch("/:id",Fr.array("files"),ea.update),ta.delete("/:id",ea.delete);const ra=ta;function na(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function oa(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){na(i,n,o,u,a,"next",e)}function a(e){na(i,n,o,u,a,"throw",e)}u(void 0)}))}}function ia(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const ua={getAll:function(e){return oa((function(){var t;return ia(this,(function(r){switch(r.label){case 0:return[4,P.job_profession_detail.findAll({where:{job_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getOne:function(e){return oa((function(){var t;return ia(this,(function(r){switch(r.label){case 0:return[4,P.job_profession_detail.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return oa((function(){return ia(this,(function(t){switch(t.label){case 0:return[4,P.job_profession_detail.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return oa((function(){return ia(this,(function(r){switch(r.label){case 0:return[4,ke(P.job_profession_detail,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return oa((function(){return ia(this,(function(t){switch(t.label){case 0:return[4,Pe(P.job_profession_detail,e)];case 1:return[2,t.sent()]}}))}))()}};function aa(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function ca(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){aa(i,n,o,u,a,"next",e)}function a(e){aa(i,n,o,u,a,"throw",e)}u(void 0)}))}}function la(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const sa=ye({getAll:function(e,t){return ca((function(){var r,n;return la(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,ua.getAll(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return ca((function(){var r,n;return la(this,(function(o){switch(o.label){case 0:return r=e.body,[4,ua.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return ca((function(){var r,n,o;return la(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,ua.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return ca((function(){var r,n;return la(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,ua.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return ca((function(){var r;return la(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,ua.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var fa=o().Router();fa.get("/getAll/:id",sa.getAll),fa.get("/:id",sa.getOne),fa.post("",sa.create),fa.patch("/:id",sa.update),fa.delete("/:id",sa.delete);const pa=fa;function da(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function ha(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){da(i,n,o,u,a,"next",e)}function a(e){da(i,n,o,u,a,"throw",e)}u(void 0)}))}}function ba(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const ya={getAll:function(e){return ha((function(){var t;return ba(this,(function(r){switch(r.label){case 0:return[4,P.job_welfare_detail.findAll({where:{job_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getOne:function(e){return ha((function(){var t;return ba(this,(function(r){switch(r.label){case 0:return[4,P.job_welfare_detail.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return ha((function(){return ba(this,(function(t){switch(t.label){case 0:return[4,P.job_welfare_detail.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return ha((function(){return ba(this,(function(r){switch(r.label){case 0:return[4,ke(P.job_welfare_detail,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return ha((function(){return ba(this,(function(t){switch(t.label){case 0:return[4,Pe(P.job_welfare_detail,e)];case 1:return[2,t.sent()]}}))}))()}};function wa(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function va(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){wa(i,n,o,u,a,"next",e)}function a(e){wa(i,n,o,u,a,"throw",e)}u(void 0)}))}}function ma(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const ga=ye({getAll:function(e,t){return va((function(){var r,n;return ma(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,ya.getAll(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return va((function(){var r,n;return ma(this,(function(o){switch(o.label){case 0:return r=e.body,[4,ya.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return va((function(){var r,n,o;return ma(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,ya.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return va((function(){var r,n;return ma(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,ya.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return va((function(){var r;return ma(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,ya.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var _a=o().Router();_a.get("/getAll/:id",ga.getAll),_a.get("/:id",ga.getOne),_a.post("",ga.create),_a.patch("/:id",ga.update),_a.delete("/:id",ga.delete);const Oa=_a,ja=require("nodemailer");var ka=r.n(ja);t().config();const Sa={MAILER:process.env.MAIL_MAILER,HOST:process.env.MAIL_HOST,PORT:process.env.MAIL_PORT,USERNAME:process.env.MAIL_USERNAME,PASSWORD:process.env.MAIL_PASSWORD,ENCRYPTION:process.env.MAIL_ENCRYPTION,FROM_ADDRESS:process.env.MAIL_FROM_ADDRESS};const Pa=function(e,t,r){console.log(Sa.USERNAME),console.log(Sa.PASSWORD);try{var n=ka().createTransport({host:Sa.HOST,port:Sa.PORT,secure:!1,auth:{user:Sa.USERNAME,pass:Sa.PASSWORD}}),o={from:Sa.FROM_ADDRESS,to:e,subject:t,html:r};return n.sendMail(o)}catch(e){throw new Error(e)}};const xa=function(e){return'<div style="margin: 0; padding: 0">\n<table align="center" border="0" cellpadding="0" cellspacing="0" width="600">\n   <tbody>\n      <tr>\n         <td\n            style="font-size: 11px; font-family: Arial, Tahoma; color: #ffffff; line-height: 16px; padding: 5px 0"\n            bgcolor="#ff5b00"\n            align="center">\n            Để email luôn được vào inbox, bạn vui lòng đánh dấu email<br />\n            này "Không phải thư quảng cáo / spam"\n         </td>\n      </tr>\n\n      <tr>\n         <td style="border: 1px solid #d9d9d9">\n            <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%">\n               <tbody>\n                  <tr>\n                     <td style="padding: 30px 20px">\n                        <table border="0" cellpadding="0" cellspacing="0" width="100%">\n                           <tbody>\n                              <tr>\n                                 <td valign="top">\n                                    <a\n                                       ><img\n                                          src="https://scontent.fhan2-4.fna.fbcdn.net/v/t39.30808-6/398210188_1136465394430504_1184956553326946258_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=5f2048&_nc_ohc=kQtHw0DWNecAX-WWtBa&_nc_ht=scontent.fhan2-4.fna&oh=00_AfBrkNWjsucZbvod6BE4aa3n1MScYFHz9H7pG_MTiSensQ&oe=65482944"\n                                          border="0"\n                                          class="CToWUd"\n                                          data-bit="iit"\n                                    /></a>\n                                 </td>\n                                 <td valign="top" align="right" width="200">\n                                    <table border="0" cellpadding="0" cellspacing="0" width="100%">\n                                       <tbody>\n                                          <tr>\n                                             <td style="padding-bottom: 3px">\n                                                <img\n                                                   src="https://ci3.googleusercontent.com/proxy/b6tRL-jhA8siCqBum1sZtSoCQJd9dmq9neWJyh4qBGto4vIpxmW4VvDCJR964VPgUc5myDB6s63c0XY8T5uaAoNLbXvTgzms43DVTwIpzi5r61c=s0-d-e1-ft#https://images.careerbuilder.vn/content/autoresponse/hotline.png"\n                                                   alt="Hotline: (84.28) 3822 6060"\n                                                   class="CToWUd"\n                                                   data-bit="iit" />\n                                             </td>\n                                          </tr>\n                                          <tr>\n                                             <td>\n                                                <table border="0" cellpadding="0" cellspacing="0" width="100%">\n                                                   <tbody>\n                                                      <tr>\n                                                         <td\n                                                            style="\n                                                               font-family: arial;\n                                                               font-size: 11px;\n                                                               color: #4f4f4f;\n                                                               font-weight: bold;\n                                                            ">\n                                                            Follow us\n                                                         </td>\n                                                         <td>\n                                                            <a\n                                                               href="https://www.facebook.com/CareerBuilderVietnam?ref=tn_tnmn"\n                                                               target="_blank"\n                                                               data-saferedirecturl="https://www.google.com/url?q=https://www.facebook.com/CareerBuilderVietnam?ref%3Dtn_tnmn&amp;source=gmail&amp;ust=1698932134010000&amp;usg=AOvVaw16hZynaQSGNIy1X9ukIrwv"\n                                                               ><img\n                                                                  height="20"\n                                                                  src="https://ci5.googleusercontent.com/proxy/QynRrhEA712RNJdVERzvjsA-qrbkJ83zT4ppEGEr1AvmZTmUKwX17uOPe2uV_GTYEovRxTjRVi8zykk0zGFkspaq2bkkgwe8TrZmKIf1_tDvBZ1hFqpFT2k=s0-d-e1-ft#https://images.careerbuilder.vn/content/autoresponse/like_facebook.png"\n                                                                  alt="Like Facebook"\n                                                                  border="0"\n                                                                  class="CToWUd"\n                                                                  data-bit="iit"\n                                                            /></a>\n                                                         </td>\n                                                         <td>\n                                                            <a\n                                                               href="http://www.linkedin.com/company/careerbuilder-vietnam"\n                                                               target="_blank"\n                                                               data-saferedirecturl="https://www.google.com/url?q=http://www.linkedin.com/company/careerbuilder-vietnam&amp;source=gmail&amp;ust=1698932134010000&amp;usg=AOvVaw02L1ngfwOqEE7DMhBWf2jZ"\n                                                               ><img\n                                                                  height="20"\n                                                                  src="https://ci6.googleusercontent.com/proxy/luufjFqkgtuOlgh8Wbd1DMR11n7oT_QTOEH9q90Pk9xsYJXyEtie2SpgwCgmthhYWxPyQDN0A7LGqfkObXCuQTO60gBJ8U8alQcebY-kvRAdk0wwcXx7=s0-d-e1-ft#https://images.careerbuilder.vn/content/autoresponse/like_linkin.png"\n                                                                  alt="Like Linkin"\n                                                                  border="0"\n                                                                  class="CToWUd"\n                                                                  data-bit="iit"\n                                                            /></a>\n                                                         </td>\n                                                         <td>\n                                                            <a\n                                                               href="http://www.youtube.com/user/CareerBuilderVietnam"\n                                                               target="_blank"\n                                                               data-saferedirecturl="https://www.google.com/url?q=http://www.youtube.com/user/CareerBuilderVietnam&amp;source=gmail&amp;ust=1698932134010000&amp;usg=AOvVaw0Cc_pNKz-stkmSmJ_HUwB-"\n                                                               ><img\n                                                                  height="20"\n                                                                  src="https://ci6.googleusercontent.com/proxy/P49l_csRMXxNndh9YLPOfXdBcyN_LiYxNIlZcPYDk2RSHvDGZS4s6fIFq3eDu6RSOfh7aMn2kI1jCewQZW5WCXL13jR4DuA99NptnbnxHKaU9fEsN7t6ow=s0-d-e1-ft#https://images.careerbuilder.vn/content/autoresponse/like_youtube.png"\n                                                                  alt="Follow Youtube"\n                                                                  border="0"\n                                                                  class="CToWUd"\n                                                                  data-bit="iit"\n                                                            /></a>\n                                                         </td>\n                                                         <td>\n                                                            <a\n                                                               href="http://careerbuilder.vn/mobile"\n                                                               target="_blank"\n                                                               data-saferedirecturl="https://www.google.com/url?q=http://careerbuilder.vn/mobile&amp;source=gmail&amp;ust=1698932134010000&amp;usg=AOvVaw3STzWyeqiRcUeVO9HfQklw"\n                                                               ><img\n                                                                  height="20"\n                                                                  src="https://ci5.googleusercontent.com/proxy/SAjb4sOJBl-ygj-oagnRSfc0hTFthQkPZWZ3xq385KL7UGEQqILSmSvzAX5v-tDoljI_ibGpEb2sRBZSLd16kom833QD-vkkP82tTvm264AkgRQ=s0-d-e1-ft#https://images.careerbuilder.vn/content/autoresponse/like_cb.png"\n                                                                  alt="Follow CB"\n                                                                  border="0"\n                                                                  class="CToWUd"\n                                                                  data-bit="iit"\n                                                            /></a>\n                                                         </td>\n                                                         <td>\n                                                            <a\n                                                               href="http://careerbuilder.vn/vi/hiringsite"\n                                                               target="_blank"\n                                                               data-saferedirecturl="https://www.google.com/url?q=http://careerbuilder.vn/vi/hiringsite&amp;source=gmail&amp;ust=1698932134010000&amp;usg=AOvVaw0QrL--cdl00F6HeizShae8"\n                                                               ><img\n                                                                  height="20"\n                                                                  src="https://ci5.googleusercontent.com/proxy/jtV7nDXeYmKr3wHUlPONiDz4nenU6wOyJgWWn6UacMb5EQeYf_rsyTHhmDdjjAmhE8eeqXAf2pGMEVG7SdJ9dE-RxaguWNc17JwxO4ZhZgwBHhY=s0-d-e1-ft#https://images.careerbuilder.vn/content/autoresponse/cb_buzz.png"\n                                                                  alt="Hiring Site"\n                                                                  border="0"\n                                                                  class="CToWUd"\n                                                                  data-bit="iit"\n                                                            /></a>\n                                                         </td>\n                                                      </tr>\n                                                   </tbody>\n                                                </table>\n                                             </td>\n                                          </tr>\n                                       </tbody>\n                                    </table>\n                                 </td>\n                              </tr>\n                           </tbody>\n                        </table>\n                     </td>\n                  </tr>\n                  <tr>\n                     <td>\n                        <img\n                           src="https://ci4.googleusercontent.com/proxy/SDKsFQEgmep2neUP1tMrCzWL9zvL4EOQYyBbSY7gl8ocXaR-_sSpE2Gx6YLSQN0olTLA6JVu2W8ikYDP8BZsnYVT-YldS4D30xlhQz286P0lZ4IA=s0-d-e1-ft#https://images.careerbuilder.vn/content/autoresponse/line_top.png"\n                           class="CToWUd"\n                           data-bit="iit" />\n                     </td>\n                  </tr>\n                  <tr>\n                     <td style="padding: 15px 20px; border-bottom: 9px solid #d9d9d9; font-family: arial">\n                        <div style="padding: 0px 10px 0px 10px">\n                        '.concat(e,'\n                           <div>\n                              <table width="100%" cellspacing="0" cellpadding="0" border="0">\n                                 <tbody>\n                                    <tr>\n                                       <td style="font-family: arial; font-size: 12px; color: #333">Trân trọng,</td>\n                                    </tr>\n                                    <tr>\n                                       <td style="font-family: arial; font-size: 12px; color: #333">\n                                          Phòng Dịch vụ Khách hàng\n                                       </td>\n                                    </tr>\n                                    <tr>\n                                       <td style="font-family: arial; font-size: 12px; color: #333"></td>\n                                    </tr>\n                                 </tbody>\n                              </table>\n                           </div>\n                        </div>\n                     </td>\n                  </tr>\n                  <tr>\n                     <td style="padding: 20px">\n                        <table border="0" cellpadding="0" cellspacing="0" width="100%">\n                           <tbody>\n                              <tr>\n                                 <td width="74%" style="font-size: 11px; color: #666666; font-family: arial">\n                                    © 2013 |\n                                    <a\n                                       href="http://careerbuilder.vn/en/jobseekers/security"\n                                       style="text-decoration: underline; color: #0078c9"\n                                       target="_blank"\n                                       data-saferedirecturl="https://www.google.com/url?q=http://careerbuilder.vn/en/jobseekers/security&amp;source=gmail&amp;ust=1698932134010000&amp;usg=AOvVaw1aBUiv52hZHQ6ZbM2gzWMF"\n                                       >Privacy Policy</a\n                                    ><br />\n                                    CareerBuilder Việt Nam.<br />\n                                    Pasteur Tower, 139 Pasteur, Q.3, TP.HCM, Việt Nam.<br />\n                                    VIT Tower, tầng 17, 519 Kim Mã, Ba Đình, Hà Nội, Việt Nam.<br />\n                                    - Mạng Việc làm &amp; Tuyển dụng lớn nhất thế giới.\n                                 </td>\n                                 <td width="26%" align="right" valign="top">\n                                    <table cellpadding="0" cellspacing="0" width="100%">\n                                       <tbody>\n                                          <tr>\n                                             <td\n                                                width="70"\n                                                style="\n                                                   font-size: 11px;\n                                                   font-weight: bold;\n                                                   color: #ff5b00;\n                                                   font-family: arial;\n                                                   padding-top: 5px;\n                                                "\n                                                align="left">\n                                                ỨNG DỤNG DI ĐỘNG\n                                             </td>\n                                             <td>\n                                                <a\n                                                   href="https://play.google.com/store/apps/details?id=vn.careerbuilder.android.app"\n                                                   target="_blank"\n                                                   data-saferedirecturl="https://www.google.com/url?q=https://play.google.com/store/apps/details?id%3Dvn.careerbuilder.android.app&amp;source=gmail&amp;ust=1698932134010000&amp;usg=AOvVaw37DXnCQte7-rJ25fTd8LKj"\n                                                   ><img\n                                                      border="0"\n                                                      src="https://ci5.googleusercontent.com/proxy/iWfOdifppCpvwhl6KuAt-lh804ks2irC0DTaY8HZNV9iGGqFiePZ4-OBCkJQMNhdCrK6E3I2203QHc1T1AhlAELxZYtDGjuypRVW35fZPvGNZsxPNnTl=s0-d-e1-ft#https://images.careerbuilder.vn/content/autoresponse/google_play.png"\n                                                      alt="Google play"\n                                                      class="CToWUd"\n                                                      data-bit="iit" /></a\n                                                ><br /><a\n                                                   href="https://itunes.apple.com/vn/app/careerbuilder.vn-job-search/id882391884?l=vi&amp;mt=8"\n                                                   target="_blank"\n                                                   data-saferedirecturl="https://www.google.com/url?q=https://itunes.apple.com/vn/app/careerbuilder.vn-job-search/id882391884?l%3Dvi%26mt%3D8&amp;source=gmail&amp;ust=1698932134010000&amp;usg=AOvVaw3bUB-TwSo_IqIILbw1Xtvm"\n                                                   ><img\n                                                      border="0"\n                                                      src="https://ci5.googleusercontent.com/proxy/vexkk6hTIzfr_Yw9WF9X-IYPEmqXwx9u-ePCGyZWqpaFRnSeEV05DJ1L4A-dnR78Fjel-IbrfZwozbBb3Qjohpwb_gu5hbu7_bZ6OdubVBr2Tk8vCQ=s0-d-e1-ft#https://images.careerbuilder.vn/content/autoresponse/app_store.png"\n                                                      alt="App Store"\n                                                      class="CToWUd"\n                                                      data-bit="iit"\n                                                /></a>\n                                             </td>\n                                          </tr>\n                                       </tbody>\n                                    </table>\n                                 </td>\n                              </tr>\n                           </tbody>\n                        </table>\n                     </td>\n                  </tr>\n                  <tr></tr>\n               </tbody>\n            </table>\n         </td>\n      </tr>\n   </tbody>\n</table>\n<p>&nbsp;</p>\n<div class="yj6qo"></div>\n<div class="adL"></div>\n</div>\n')};function Aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ra(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Ea(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Ra(i,n,o,u,a,"next",e)}function a(e){Ra(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Da(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Aa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ba(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var qa=we.Sequelize.Op;t().config();var Ga={getAll:function(e){return Ea((function(){var t,r,n,o,i,u,a,c,l,s,f,p,d;return Ba(this,(function(h){switch(h.label){case 0:return t=Number(e.page)||1,r=Number(e.limit)||25,n={},o={},i={},u={},e.keyword&&(u.title=Da({},qa.substring,e.keyword)),e.user_account_id&&(a=e.user_account_id,n.user_account_id=Da({},qa.eq,a)),e.posted_by_id&&(c=e.posted_by_id,o.posted_by_id=Da({},qa.eq,c)),e.resume_active!=cr&&e.resume_active!=ar||(i.resume_active=Da({},qa.eq,e.resume_active)),e.fromDate&&e.toDate&&(l=e.fromDate,s=e.toDate,n.apply_date=Da({},qa.between,[l,s])),[4,xe({model:P.job_post_activity,page:t,limit:r,queries:{nest:!0,include:[{model:P.job_post,where:o,include:{model:P.company}},{model:P.user_account,as:"user_account",include:{model:P.resume_profile}},{model:P.resume,required:!1,where:Object.keys(i).length>0?i:null,include:[{model:P.resume_title,where:Object.keys(u).length>0?u:null,required:!1},{model:P.my_attach}]}]}})];case 1:return f=Ta.apply(void 0,[h.sent(),2]),p=f[0],d=f[1],[2,[p,d]]}}))}))()},getOne:function(e){return Ea((function(){var t;return Ba(this,(function(r){switch(r.label){case 0:return[4,P.job_post_activity.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return Ea((function(){var t,r;return Ba(this,(function(n){switch(n.label){case 0:return[4,P.job_post_activity.create(e)];case 1:return t=n.sent(),[4,P.job_post_activity.findOne({where:{job_id:e.job_id,user_account_id:e.user_account_id},include:[{model:P.job_post,include:{model:P.company}},{model:P.user_account,as:"user_account"}],raw:!0,nest:!0})];case 2:return r=n.sent(),console.log("TCL: create -> findJobPostActivity",r),Pa(r.user_account.email,"Ứng tuyển thành công",xa('<table style="border:1px solid black;color:rgb(0,0,0);" align="center" border="0" cellpadding="5" cellspacing="0" style="margin:0 auto" width="82%">\n\t\t\t<tbody style="border:1px solid black;color:rgb(0,0,0);" >\n\t\t\t\t<tr style="border:1px solid black;color:rgb(0,0,0);" >\n\t\t\t\t\t<td style="border:1px solid black;color:rgb(0,0,0);" colspan="2" style="font-family:Arial;font-size:12px">Chào bạn <strong style="color:rgb(0,0,0);">'.concat(r.user_account.lastname," ").concat(r.user_account.firstname,',</strong></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr style="border:1px solid black;color:rgb(0,0,0);" >\n\t\t\t\t\t<td style="border:1px solid black;color:rgb(0,0,0);" align="left" colspan="2" style="font-family:Arial;font-size:12px;color:rgb(0,0,0);"><strong>Bạn vừa nộp hồ sơ ứng tuyển vào :</strong></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr style="border:1px solid black;color:rgb(0,0,0);">\n\t\t\t\t\t<td style="border:1px solid black;" align="left" style="font-family:Arial;font-size:12px" width="30%">Công ty :</td>\n\t\t\t\t\t<td style="border:1px solid black;color:rgb(0,0,0);" align="left" style="font-family:Arial;font-size:12px">').concat(r.job_post.company.company_name,'</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr style="border:1px solid black;color:rgb(0,0,0);" >\n\t\t\t\t\t<td style="border:1px solid black;color:rgb(0,0,0);" align="left" style="font-family:Arial;font-size:12px;border:1px solid black;color:rgb(0,0,0);" width="30%">Vị trí ứng tuyển:</td>\n\t\t\t\t\t<td style="border:1px solid black;color:rgb(0,0,0);" align="left" style="font-family:Arial;font-size:12px"><p style="color:rgb(0,0,0);">').concat(r.job_post.job_title,'</p></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr style="border:1px solid black;color:rgb(0,0,0);">\n\t\t\t\t\t<td style="border:1px solid black;color:rgb(0,0,0);" align="left" colspan="2" style="font-family:Arial;font-size:12px"><strong style="color:rgb(0,0,0);font-family:Arial">Chúc bạn thành công </strong></td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>'))),[2,t]}}))}))()},update:function(e,t){return Ea((function(){return Ba(this,(function(r){switch(r.label){case 0:return[4,ke(P.job_post_activity,e,t)];case 1:return[2,r.sent()]}}))}))()},updateStatusResume:function(e,t){return Ea((function(){var r,n;return Ba(this,(function(o){switch(o.label){case 0:return r=t.job_id,n=t.status,[4,Se(P.job_post_activity,{job_id:r,resume_id:e},{status:n})];case 1:return[2,o.sent()]}}))}))()},sendMailJobSeeker:function(e){return Ea((function(){var t,r,n,o;return Ba(this,(function(i){switch(i.label){case 0:return t=e.user_account_id,r=e.title,n=e.content,[4,P.user_account.findOne({where:{id:t}})];case 1:return o=i.sent(),Pa(o.email,r,xa(n)),[2]}}))}))()},delete:function(e){return Ea((function(){return Ba(this,(function(t){switch(t.label){case 0:return[4,Pe(P.job_post_activity,e)];case 1:return[2,t.sent()]}}))}))()},analysis:function(e){return Ea((function(){var t;return Ba(this,(function(r){switch(r.label){case 0:return[4,P.job_post_activity.count({where:{user_account_id:e}})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()}};const Ca=Ga;function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Na(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Ua(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Na(i,n,o,u,a,"next",e)}function a(e){Na(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ia(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ia(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ka(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var Ya={getAll:function(e,t){return Ua((function(){var r,n,o,i;return Ka(this,(function(u){switch(u.label){case 0:return r=e.query,[4,Ca.getAll(r)];case 1:return n=Ma.apply(void 0,[u.sent(),2]),o=n[0],i=n[1],[2,t.apiResponse(o,i)]}}))}))()},getOne:function(e,t){return Ua((function(){var r,n;return Ka(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Ca.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return Ua((function(){var r,n;return Ka(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Ca.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},sendMailJobSeeker:function(e,t){return Ua((function(){var r;return Ka(this,(function(n){switch(n.label){case 0:return r=e.body,[4,Ca.sendMailJobSeeker(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()},update:function(e,t){return Ua((function(){var r,n,o;return Ka(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,Ca.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},updateStatusResume:function(e,t){return Ua((function(){var r,n,o;return Ka(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,Ca.updateStatusResume(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return Ua((function(){var r;return Ka(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Ca.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()},analysis:function(e,t){return Ua((function(){var r,n;return Ka(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Ca.analysis(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()}};const La=ye(Ya);const za={jobPostActivity:fe({jobPostActivity:ee().object({user_account_id:ee().string().required(),resume_id:ee().string().required(),job_id:ee().string().required(),apply_date:ee().date(),resume_type:ee().number().required(),status:ee().number()})}.jobPostActivity)};var Wa=o().Router();Wa.post("",za.jobPostActivity,La.create),Wa.post("/send-mail-jobSeeker",La.sendMailJobSeeker),Wa.get("",La.getAll),Wa.get("/analysis/:id",La.analysis),Wa.get("/:id",La.getOne),Wa.patch("/:id",za.jobPostActivity,La.update),Wa.patch("/update-status-resume/:id",La.updateStatusResume),Wa.delete("/:id",La.delete);const Va=Wa;function Ha(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Fa(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Ha(i,n,o,u,a,"next",e)}function a(e){Ha(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Ja(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const Qa={getAll:function(){return Fa((function(){return Ja(this,(function(e){switch(e.label){case 0:return[4,P.job_work_type_detail.findAll()];case 1:return[2,e.sent()]}}))}))()},getOne:function(e){return Fa((function(){var t;return Ja(this,(function(r){switch(r.label){case 0:return[4,P.job_work_type_detail.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy");return[2,t]}}))}))()},create:function(e){return Fa((function(){return Ja(this,(function(t){switch(t.label){case 0:return[4,P.job_work_type_detail.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return Fa((function(){return Ja(this,(function(r){switch(r.label){case 0:return[4,ke(P.job_work_type_detail,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return Fa((function(){return Ja(this,(function(t){switch(t.label){case 0:return[4,Pe(P.job_work_type_detail,e)];case 1:return[2,t.sent()]}}))}))()}};function Za(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function $a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Za(i,n,o,u,a,"next",e)}function a(e){Za(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Xa(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const ec=ye({getAll:function(e,t){return $a((function(){var e;return Xa(this,(function(r){switch(r.label){case 0:return[4,Qa.getAll()];case 1:return e=r.sent(),[2,t.apiResponse(e)]}}))}))()},getOne:function(e,t){return $a((function(){var r,n;return Xa(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Qa.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return $a((function(){var r,n;return Xa(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Qa.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return $a((function(){var r,n,o;return Xa(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,Qa.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return $a((function(){var r;return Xa(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Qa.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var tc=o().Router();tc.post("",ec.create),tc.get("",ec.getAll),tc.get("/:id",ec.getOne),tc.patch("/:id",ec.update),tc.delete("/:id",ec.delete);const rc=tc;function nc(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function oc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){nc(i,n,o,u,a,"next",e)}function a(e){nc(i,n,o,u,a,"throw",e)}u(void 0)}))}}function ic(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const uc={getAll:function(e){return oc((function(){var t;return ic(this,(function(r){switch(r.label){case 0:return[4,P.job_saved.findAll({where:{user_account_id:e},include:[{model:P.user_account,as:"user_account"},{model:P.job_post,include:{model:P.company},as:"job_post_saved"}]})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},getOne:function(e){return oc((function(){var t;return ic(this,(function(r){switch(r.label){case 0:return[4,P.job_saved.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return oc((function(){return ic(this,(function(t){switch(t.label){case 0:return[4,P.job_saved.findOne({where:{user_account_id:e.user_account_id,job_id:e.job_id},raw:!0})];case 1:if(t.sent())throw A()(409,"Bạn đã lưu việc làm này");return[4,P.job_saved.create(e)];case 2:return[2,t.sent()]}}))}))()},update:function(e,t){return oc((function(){return ic(this,(function(r){switch(r.label){case 0:return[4,ke(P.job_saved,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return oc((function(){return ic(this,(function(t){switch(t.label){case 0:return[4,Pe(P.job_saved,e)];case 1:return[2,t.sent()]}}))}))()},analysis:function(e){return oc((function(){var t;return ic(this,(function(r){switch(r.label){case 0:return[4,P.job_saved.count({where:{user_account_id:e}})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()}};function ac(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function cc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){ac(i,n,o,u,a,"next",e)}function a(e){ac(i,n,o,u,a,"throw",e)}u(void 0)}))}}function lc(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const sc=ye({getAll:function(e,t){return cc((function(){var r,n;return lc(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,uc.getAll(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return cc((function(){var r,n;return lc(this,(function(o){switch(o.label){case 0:return r=e.body,[4,uc.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return cc((function(){var r,n,o;return lc(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,uc.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return cc((function(){var r,n;return lc(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,uc.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return cc((function(){var r;return lc(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,uc.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()},analysis:function(e,t){return cc((function(){var r,n;return lc(this,(function(o){switch(o.label){case 0:return r=e.params.id,console.log(r),[4,uc.analysis(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()}});var fc=o().Router();fc.get("/getAll/:id",sc.getAll),fc.get("/analysis/:id",sc.analysis),fc.get("/:id",sc.getOne),fc.post("",sc.create),fc.patch("/:id",sc.update),fc.delete("/:id",sc.delete);const pc=fc;const dc={PostDate:0,ExpiredDate:1,CreatedAt:2};const hc={Pending:0,Publish:1,Expired:2,Pause:3};function bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yc(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function wc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){yc(i,n,o,u,a,"next",e)}function a(e){yc(i,n,o,u,a,"throw",e)}u(void 0)}))}}function vc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){vc(e,t,r[t])}))}return e}function gc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function _c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Oc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jc(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var kc=we.Sequelize.Op;t().config();var Sc={getAll:function(e){return wc((function(){var t,r,n,o,i,u,a,c,l,s,f,p,d,h,b,y,w,v,m,g,_,O,j;return jc(this,(function(k){switch(k.label){case 0:return t=Number(e.page)||1,r=Number(e.limit)||25,console.log("TCL: getAll -> limit",r),o=null!==(n=e.keyword)&&void 0!==n?n:"",i={},u={},o&&(i.job_title=vc({},kc.substring,e.keyword)),e.dateType&&e.fromDate&&e.toDate&&(a=e.dateType,c=e.fromDate,l=e.toDate,a==dc.PostDate&&(i.posted_date=vc({},kc.between,[c,l])),a==dc.ExpiredDate&&(i.expiry_date=vc({},kc.between,[c,l])),a==dc.CreatedAt&&(i.createdAt=vc({},kc.between,[c,l]))),e.user_account_id&&(s=e.user_account_id,i.posted_by_id=vc({},kc.eq,s)),e.isDeleted&&(f=e.isDeleted,i.isDeleted=vc({},kc.eq,f)),e.company_id&&(p=e.company_id,i.company_id=vc({},kc.eq,p)),e.status&&(d=e.status,i.status=vc({},kc.eq,Number(d))),e.profession_id&&(h=e.profession_id,u.id=vc({},kc.eq,h)),e.salary&&(b=e.salary,i.min_salary=vc({},kc.gte,b)),e.provinces&&(i.provinces=vc({},kc.eq,e.provinces)),e.job_position_value&&(i.job_position_value=vc({},kc.eq,e.job_position_value)),y=new Date,(w=new Date(y)).setDate(y.getDate()-3),(v=new Date(y)).setDate(y.getDate()-7),m=new Date(y),v.setDate(y.getDate()-14),g=new Date(y),v.setDate(y.getDate()-30),e.days&&(3===e.days?i.posted_date=vc({},kc.gt,w):7===e.days?i.posted_date=vc({},kc.gt,v):14===e.days?i.posted_date=vc({},kc.gt,m):30===e.days&&(i.posted_date=vc({},kc.gt,g))),[4,xe({model:P.job_post,page:t,limit:r,condition:i,queries:{nest:!0,include:[{model:P.company},{model:P.profession,as:"profession",where:Object.keys(u).length>0?u:null}]}})];case 1:return _=Oc.apply(void 0,[k.sent(),2]),O=_[0],j=_[1],[2,[O,j]]}}))}))()},getOne:function(e){return wc((function(){var t,r,n,o,i;return jc(this,(function(u){switch(u.label){case 0:return[4,P.job_post.findOne({where:{id:e},include:{model:P.company},nest:!0,raw:!0})];case 1:return t=u.sent(),[4,Promise.all([P.job_welfare_detail.findAll({where:{job_id:t.id},include:[{model:P.job_welfare}],nest:!0,raw:!0}),P.job_profession_detail.findAll({where:{job_id:t.id},include:[{model:P.profession}],nest:!0,raw:!0}),P.job_work_type_detail.findAll({where:{job_id:t.id},include:[{model:P.work_type}],nest:!0,raw:!0})])];case 2:if(r=Oc.apply(void 0,[u.sent(),3]),n=r[0],o=r[1],i=r[2],!t)throw A()(404,"không tìm thấy bài đăng");return[2,gc(mc({},t),{jobWelfare:n,jobProfessionDetail:o,jobWorkTypeDetail:i})]}}))}))()},create:function(e){return wc((function(){var t,r,n,o,i;return jc(this,(function(u){switch(u.label){case 0:return t=e.job_welfare_id,r=e.job_work_type_id,n=e.job_profession_id,o=_c(e,["job_welfare_id","job_work_type_id","job_profession_id"]),[4,P.job_post.create(o)];case 1:return i=u.sent(),Promise.all(t.map(function(){var e=wc((function(e){return jc(this,(function(t){return[2,P.job_welfare_detail.create({job_id:i.id,job_welfare_id:e})]}))}));return function(t){return e.apply(this,arguments)}}())),Promise.all(r.map(function(){var e=wc((function(e){return jc(this,(function(t){return[2,P.job_work_type_detail.create({job_id:i.id,work_type_id:e})]}))}));return function(t){return e.apply(this,arguments)}}())),Promise.all(n.map(function(){var e=wc((function(e){return jc(this,(function(t){return[2,P.job_profession_detail.create({job_id:i.id,profession_id:e})]}))}));return function(t){return e.apply(this,arguments)}}())),[2,i]}}))}))()},update:function(e,t){return wc((function(){return jc(this,(function(r){switch(r.label){case 0:return[4,ke(P.job_post,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return wc((function(){return jc(this,(function(t){switch(t.label){case 0:return[4,Se(P.job_post,{id:e},{isDeleted:!0})];case 1:return[2,t.sent()]}}))}))()},analytic:function(){return wc((function(){var e,t,r,n;return jc(this,(function(o){switch(o.label){case 0:return[4,P.job_post.count({where:{status:vc({},kc.eq,hc.Pending)}})];case 1:return e=o.sent(),[4,P.job_post.count({where:{status:vc({},kc.eq,hc.Expired)}})];case 2:return t=o.sent(),[4,P.job_post.count({where:{status:vc({},kc.eq,hc.Publish)}})];case 3:return r=o.sent(),[4,P.job_post.count({where:{status:vc({},kc.eq,hc.Pause)}})];case 4:return n=o.sent(),[2,{pendingStatus:e,expiredStatus:t,pauseStatus:n,publishStatus:r}]}}))}))()},calculateCorrelationIndex:function(e){return wc((function(){var t,r,n,o,i,u,a,c,l,s,f;return jc(this,(function(p){switch(p.label){case 0:return t=e.startDate,r=e.endDate,n=e.user_account_id,[4,P.job_post.findAll({attributes:[[P.sequelize.fn("DATE_FORMAT",P.sequelize.col("posted_date"),"%d/%m"),"day"],[P.sequelize.literal("COUNT(*)"),"total_jobs"]],where:{posted_date:vc({},we.Sequelize.Op.between,[t,r]),posted_by_id:n},group:["day"]})];case 1:return o=p.sent(),[4,P.job_post_activity.findAll({attributes:[[P.sequelize.fn("DATE_FORMAT",P.sequelize.col("apply_date"),"%d/%m"),"day"],[P.sequelize.literal("COUNT(*)"),"total_resume"]],where:{apply_date:vc({},we.Sequelize.Op.between,[t,r])},include:[{model:P.job_post,where:{posted_by_id:n}}],group:["day","job_post.id"]})];case 2:for(i=p.sent(),u=this.calculateDaysDifference(t,r),a=Array(u).fill(0),c=Array(u).fill(0),l=[],s=new Date(t);s<=new Date(r);)f="".concat(s.getDate(),"/").concat(s.getMonth()+1),l.push(f),s.setDate(s.getDate()+1);return o.forEach((function(e){var t=e.dataValues.day,r=e.dataValues.total_jobs,n=l.indexOf(t);a[n]=r})),i.forEach((function(e){var t=e.dataValues.day,r=e.dataValues.total_resume,n=l.indexOf(t);c[n]=r})),[2,{data_1:a,data_2:c,label:l,title_1:"Việc làm",title_2:"Ứng tuyển"}]}}))})).apply(this)},analyticJobSeekerApplyByDay:function(e){return wc((function(){var t,r,n,o,i,u,a,c,l;return jc(this,(function(s){switch(s.label){case 0:return t=e.startDate,r=e.endDate,n=e.user_account_id,o=this.calculateDaysDifference(t,r),[4,P.job_post_activity.findAll({attributes:[[P.sequelize.fn("DATE_FORMAT",P.sequelize.col("apply_date"),"%d/%m"),"day"],[P.sequelize.literal("COUNT(*)"),"total_resume"]],where:{apply_date:vc({},we.Sequelize.Op.between,[t,r])},include:[{model:P.job_post,where:{posted_by_id:n}}],group:["day","job_post.id"]})];case 1:for(i=s.sent(),u=Array(o).fill(0),a=[],c=new Date(t);c<=new Date(r);)l="".concat(c.getDate(),"/").concat(c.getMonth()+1),a.push(l),c.setDate(c.getDate()+1);return i.forEach((function(e){var t=e.dataValues.day,r=e.dataValues.total_resume,n=a.indexOf(t);u[n]=r})),[2,{data_1:u,label:a}]}}))})).apply(this)},analyticResumeStatus:function(e){return wc((function(){var t,r,n,o,i,u,a;return jc(this,(function(c){switch(c.label){case 0:return t=e.startDate,r=e.endDate,n=e.user_account_id,i=[{label:"Chưa quyết định",value:(o={UNDECIDED:0,NOT_MATCHED:1,REJECTED:2,UNDER_REVIEW:3,INTERVIEW:4,OFFERED:5,HIRED:6}).UNDECIDED},{label:"Không phù hợp",value:o.NOT_MATCHED},{label:"Từ chối",value:o.REJECTED},{label:"Kiểm tra",value:o.UNDER_REVIEW},{label:"Phỏng vấn",value:o.INTERVIEW},{label:"Đề nghị tuyển dụng",value:o.OFFERED},{label:"Nhận việc",value:o.HIRED}],u=function(){var e=wc((function(e){return jc(this,(function(o){return[2,P.job_post_activity.count({where:{apply_date:vc({},we.Sequelize.Op.between,[t,r]),status:e},include:[{model:P.job_post,where:{posted_by_id:n}}]})]}))}));return function(t){return e.apply(this,arguments)}}(),a=[],[4,Promise.all(Object.values(o).map(function(){var e=wc((function(e){var t;return jc(this,(function(r){switch(r.label){case 0:return[4,u(e)];case 1:return t=r.sent(),a.push(t),[2]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 1:return c.sent(),[2,{data_1:a,label:i.map((function(e){return e.label}))}]}}))}))()},analyticDegreeValue:function(e){return wc((function(){var t,r,n,o,i,u,a;return jc(this,(function(c){switch(c.label){case 0:return t=e.startDate,r=e.endDate,n=e.user_account_id,o={CHUA_TOT_NGHIEP:0,TRUNG_HOC:1,TRUNG_CAP:2,CAO_DANG:3,DAI_HOC:4,SAU_DAI_HOC:5,KHAC:6},i=[{label:"Chưa tốt nghiệp",value:0},{label:"Trung học",value:1},{label:"Trung cấp",value:2},{label:"Cao đẳng",value:3},{label:"Đại học",value:4},{label:"Sau đại học",value:5},{label:"Khác",value:6}],u=function(){var e=wc((function(e){return jc(this,(function(o){return[2,P.job_post.count({where:{posted_date:vc({},we.Sequelize.Op.between,[t,r]),posted_by_id:n,job_degree_value:e}})]}))}));return function(t){return e.apply(this,arguments)}}(),a=[],[4,Promise.all(Object.values(o).map(function(){var e=wc((function(e){var t;return jc(this,(function(r){switch(r.label){case 0:return[4,u(e)];case 1:return t=r.sent(),a.push(t),[2]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 1:return c.sent(),[2,{data_1:a,label:i.map((function(e){return e.label}))}]}}))}))()},calculateDaysDifference:function(e,t){var r=new Date(e),n=new Date(t)-r;return Math.ceil(n/864e5)+1}};const Pc=Sc;function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ac(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Rc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Ac(i,n,o,u,a,"next",e)}function a(e){Ac(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Ec(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var Tc={getAll:function(e,t){return Rc((function(){var r,n,o,i;return Dc(this,(function(u){switch(u.label){case 0:return r=e.query,[4,Pc.getAll(r)];case 1:return n=Ec.apply(void 0,[u.sent(),2]),o=n[0],i=n[1],[2,t.apiResponse(o,i)]}}))}))()},getOne:function(e,t){return Rc((function(){var r,n;return Dc(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Pc.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},analytic:function(e,t){return Rc((function(){var e;return Dc(this,(function(r){switch(r.label){case 0:return[4,Pc.analytic()];case 1:return e=r.sent(),[2,t.apiResponse(e)]}}))}))()},calculateCorrelationIndex:function(e,t){return Rc((function(){var r,n;return Dc(this,(function(o){switch(o.label){case 0:return r=e.query,[4,Pc.calculateCorrelationIndex(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},analyticJobSeekerApplyByDay:function(e,t){return Rc((function(){var r,n;return Dc(this,(function(o){switch(o.label){case 0:return r=e.query,[4,Pc.analyticJobSeekerApplyByDay(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},analyticResumeStatus:function(e,t){return Rc((function(){var r,n;return Dc(this,(function(o){switch(o.label){case 0:return r=e.query,[4,Pc.analyticResumeStatus(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},analyticDegreeValue:function(e,t){return Rc((function(){var r,n;return Dc(this,(function(o){switch(o.label){case 0:return r=e.query,[4,Pc.analyticDegreeValue(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return Rc((function(){var r,n;return Dc(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Pc.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Rc((function(){var r,n,o;return Dc(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,Pc.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return Rc((function(){var r;return Dc(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Pc.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}};const Bc=ye(Tc);const qc={jobPost:fe({jobPost:ee().object({job_welfare_id:ee().array().items(ee().number()),job_work_type_id:ee().array().items(ee().number()),job_profession_id:ee().array().items(ee().number()),posted_by_id:ee().string().required(),company_id:ee().string().required(),job_degree_value:ee().number().required(),job_position_value:ee().number().required(),job_experience_value:ee().number().required().valid(0,1,2),address:ee().string(),form_age:ee().string(),to_age:ee().string(),job_title:ee().string(),gender:ee().number().valid(0,1,2),is_address_work_hidden:ee().boolean(),min_salary:ee().number().required(),max_salary:ee().number().required(),expiry_date:ee().date(),posted_date:ee().date(),job_desc:ee().string(),job_request:ee().string().required(),status:ee().number().valid(0,1,2,3),work_home:ee().boolean(),isDeleted:ee().boolean(),job_formExperience:ee().number(),job_ToExperience:ee().number(),provinces:ee().number().required(),districts:ee().number().required()})}.jobPost)};var Gc=o().Router();Gc.get("/analytics",Bc.analytic),Gc.get("/analytics/calculateCorrelationIndex",Bc.calculateCorrelationIndex),Gc.get("/analytics/analyticJobSeekerApplyByDay",Bc.analyticJobSeekerApplyByDay),Gc.get("/analytics/analyticResumeStatus",Bc.analyticResumeStatus),Gc.get("/analytics/analyticDegreeValue",Bc.analyticDegreeValue),Gc.get("",Bc.getAll),Gc.get("/:id",Bc.getOne),Gc.post("",qc.jobPost,Bc.create),Gc.patch("/:id",Bc.update),Gc.delete("/:id",Bc.delete);const Cc=Gc;var Ic=o().Router();Ic.get("/:user_id",Oi.getOne),Ic.patch("/:user_id",dn.resume_profile,Oi.update);const Nc=Ic;function Uc(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Mc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Uc(i,n,o,u,a,"next",e)}function a(e){Uc(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Kc(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const Yc={getAll:function(){return Mc((function(){return Kc(this,(function(e){switch(e.label){case 0:return[4,P.service_type.findAll()];case 1:return[2,e.sent()]}}))}))()},getOne:function(e){return Mc((function(){var t;return Kc(this,(function(r){switch(r.label){case 0:return[4,P.service_type.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"không tìm thấy thông tin ");return[2,t]}}))}))()},create:function(e){return Mc((function(){return Kc(this,(function(t){switch(t.label){case 0:return[4,P.service_type.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return Mc((function(){return Kc(this,(function(r){switch(r.label){case 0:return[4,ke(P.service_type,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return Mc((function(){return Kc(this,(function(t){switch(t.label){case 0:return[4,Pe(P.service_type,e)];case 1:return[2,t.sent()]}}))}))()}};function Lc(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function zc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Lc(i,n,o,u,a,"next",e)}function a(e){Lc(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Wc(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Vc=ye({getAll:function(e,t){return zc((function(){var e;return Wc(this,(function(r){switch(r.label){case 0:return[4,Yc.getAll()];case 1:return e=r.sent(),[2,t.apiResponse(e)]}}))}))()},getOne:function(e,t){return zc((function(){var r,n;return Wc(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Yc.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return zc((function(){var r,n;return Wc(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Yc.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return zc((function(){var r,n,o;return Wc(this,(function(i){switch(i.label){case 0:return r=e.params.id,n=e.body,[4,Yc.update(r,n)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return zc((function(){var r;return Wc(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Yc.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var Hc=o().Router();Hc.post("",Vc.create),Hc.get("",Vc.getAll),Hc.get("/:id",Vc.getOne),Hc.patch("/:id",Vc.update),Hc.delete("/:id",Vc.delete);const Fc=Hc,Jc=require("moment/moment");var Qc=r.n(Jc);function Zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $c(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Xc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){$c(i,n,o,u,a,"next",e)}function a(e){$c(i,n,o,u,a,"throw",e)}u(void 0)}))}}function el(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var rl=we.Sequelize.Op;t().config();var nl={getAll:function(e){return Xc((function(){var t,r,n,o,i,u,a,c;return tl(this,(function(l){switch(l.label){case 0:return t=Number(e.page)||1,r=Number(e.limit)||25,o=null!==(n=e.keyword)&&void 0!==n?n:"",i={},o&&(i.name=(s={},f=rl.substring,p=o,f in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,s)),[4,xe({model:P.service,page:t,limit:r,condition:i,queries:{nest:!0,include:[{model:P.service_type},{model:P.benefits}]},nest:!0})];case 1:return u=el.apply(void 0,[l.sent(),2]),a=u[0],c=u[1],[2,[a,c]]}var s,f,p}))}))()},getOne:function(e){return Xc((function(){var t;return tl(this,(function(r){switch(r.label){case 0:return[4,P.service.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return Xc((function(){return tl(this,(function(t){switch(t.label){case 0:return[4,P.service.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return Xc((function(){return tl(this,(function(r){switch(r.label){case 0:return[4,ke(P.service,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return Xc((function(){return tl(this,(function(t){switch(t.label){case 0:return[4,Pe(P.service,e)];case 1:return[2,t.sent()]}}))}))()},getAllByServiceType:function(e){return Xc((function(){var t;return tl(this,(function(r){switch(r.label){case 0:return[4,P.service.findAll({where:{service_type_id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()}};const ol=nl;const il=function(e){var t,r={},n=[];for(t in e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t));for(n.sort(),t=0;t<n.length;t++)r[n[t]]=encodeURIComponent(e[n[t]]).replace(/%20/g,"+");return r};function ul(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function al(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function cl(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){al(i,n,o,u,a,"next",e)}function a(e){al(i,n,o,u,a,"throw",e)}u(void 0)}))}}function ll(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ul(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ul(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sl(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var fl={getAll:function(e,t){return cl((function(){var r,n,o,i;return sl(this,(function(u){switch(u.label){case 0:return r=e.query,[4,ol.getAll(r)];case 1:return n=ll.apply(void 0,[u.sent(),2]),o=n[0],i=n[1],[2,t.apiResponse(o,i)]}}))}))()},getAllByServiceType:function(e,t){return cl((function(){var r,n;return sl(this,(function(o){switch(o.label){case 0:return r=e.params.service_type_id,[4,ol.getAllByServiceType(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},getOne:function(e,t){return cl((function(){var r,n;return sl(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,ol.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return cl((function(){var r,n;return sl(this,(function(o){switch(o.label){case 0:return r=e.body,[4,ol.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return cl((function(){var r,n,o;return sl(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,ol.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return cl((function(){var r;return sl(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,ol.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()},createPaymentUrl:function(e,t){return cl((function(){var n,o,i,u,a,c,l,s,f,p,d,h,b,y,w;return sl(this,(function(v){return process.env.TZ="Asia/Ho_Chi_Minh",n=new Date,o=Qc()(n).format("YYYYMMDDHHmmss"),i=e.headers["x-forwarded-for"]||e.connection.remoteAddress||e.socket.remoteAddress||e.connection.socket.remoteAddress,"S6RTTAYA","ZAHBMWCSUGVMVKEQCWQRWFBZXXKNUQYC",u="https://sandbox.vnpayment.vn/paymentv2/vpcpay.html","http://localhost:3000/employers/vnpay_return",a=Qc()(n).format("DDHHmmss"),c=e.body.amount,l=e.body.bankCode,s=e.body.info,null!==(f=e.body.language)&&""!==f||(f="vn"),"VND",(p={}).vnp_Version="2.1.0",p.vnp_Command="pay",p.vnp_TmnCode="S6RTTAYA",p.vnp_Locale=f,p.vnp_CurrCode="VND",p.vnp_TxnRef=a,p.vnp_OrderInfo=s,p.vnp_OrderType="other",p.vnp_Amount=100*c,p.vnp_ReturnUrl="http://localhost:3000/employers/vnpay_return",p.vnp_IpAddr=i,p.vnp_CreateDate=o,void 0!==l&&""!==l&&(p.vnp_BankCode=l),p=il(p),d=r(104),h=d.stringify(p,{encode:!1}),b=r(113),y=b.createHmac("sha512","ZAHBMWCSUGVMVKEQCWQRWFBZXXKNUQYC"),w=y.update(new Buffer(h,"utf-8")).digest("hex"),p.vnp_SecureHash=w,u+="?".concat(d.stringify(p,{encode:!1})),console.log(u),[2,t.apiResponse(u)]}))}))()}};const pl=ye(fl);const dl={service:fe({service:ee().object({service_type_id:ee().string().required(),price_list:ee().string().required(),description:ee().string(),name:ee().string().required(),benefits_id:ee().string().required()})}.service)};var hl=o().Router();hl.get("/",pl.getAll),hl.get("/:service_type_id",pl.getAllByServiceType),hl.post("/create_payment_url",pl.createPaymentUrl),hl.get("/:id",pl.getOne),hl.post("",dl.service,pl.create),hl.patch("/:id",dl.service,pl.update),hl.delete("/:id",pl.delete);const bl=hl;function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wl(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function vl(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){wl(i,n,o,u,a,"next",e)}function a(e){wl(i,n,o,u,a,"throw",e)}u(void 0)}))}}function ml(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gl(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var _l=we.Sequelize.Op;t().config();var Ol={getAll:function(e){return vl((function(){var t,r,n,o,i,u,a,c;return gl(this,(function(l){switch(l.label){case 0:return t=Number(e.page)||1,r=Number(e.limit)||25,o=null!==(n=e.keyword)&&void 0!==n?n:"",i={},o&&(i.name=(s={},f=_l.substring,p=o,f in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,s)),[4,xe({model:P.benefits,page:t,limit:r,condition:i})];case 1:return u=ml.apply(void 0,[l.sent(),2]),a=u[0],c=u[1],[2,[a,c]]}var s,f,p}))}))()},getOne:function(e){return vl((function(){var t;return gl(this,(function(r){switch(r.label){case 0:return[4,P.benefits.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return vl((function(){return gl(this,(function(t){switch(t.label){case 0:return[4,P.benefits.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return vl((function(){return gl(this,(function(r){switch(r.label){case 0:return[4,ke(P.benefits,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return vl((function(){return gl(this,(function(t){switch(t.label){case 0:return[4,Pe(P.benefits,e)];case 1:return[2,t.sent()]}}))}))()}};const jl=Ol;function kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sl(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Pl(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Sl(i,n,o,u,a,"next",e)}function a(e){Sl(i,n,o,u,a,"throw",e)}u(void 0)}))}}function xl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Al(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var Rl={getAll:function(e,t){return Pl((function(){var r,n,o,i;return Al(this,(function(u){switch(u.label){case 0:return r=e.query,[4,jl.getAll(r)];case 1:return n=xl.apply(void 0,[u.sent(),2]),o=n[0],i=n[1],[2,t.apiResponse(o,i)]}}))}))()},create:function(e,t){return Pl((function(){var r,n;return Al(this,(function(o){switch(o.label){case 0:return r=e.body,[4,jl.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Pl((function(){var r,n,o;return Al(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,jl.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return Pl((function(){var r,n;return Al(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,jl.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return Pl((function(){var r;return Al(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,jl.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}};const El=ye(Rl);var Dl=o().Router();Dl.get("",El.getAll),Dl.get("/:id",El.getOne),Dl.post("",He.protect,El.create),Dl.patch("/:id",He.protect,El.update),Dl.delete("/:id",He.protect,El.delete);const Tl=Dl;function Bl(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function ql(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Bl(i,n,o,u,a,"next",e)}function a(e){Bl(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Gl(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}t().config();const Cl={getAll:function(){return ql((function(){return Gl(this,(function(e){switch(e.label){case 0:return[4,P.company_service.findAll()];case 1:return[2,e.sent()]}}))}))()},getOne:function(e){return ql((function(){var t;return Gl(this,(function(r){switch(r.label){case 0:return[4,P.company_service.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy thông tin công ty");return[2,t]}}))}))()},create:function(e){return ql((function(){return Gl(this,(function(t){switch(t.label){case 0:return[4,P.company_service.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return ql((function(){return Gl(this,(function(r){switch(r.label){case 0:return[4,ke(P.company_service,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return ql((function(){return Gl(this,(function(t){switch(t.label){case 0:return[4,Pe(P.company_service,e)];case 1:return[2,t.sent()]}}))}))()}};function Il(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Nl(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Il(i,n,o,u,a,"next",e)}function a(e){Il(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Ul(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}const Ml=ye({getAll:function(e,t){return Nl((function(){var e;return Ul(this,(function(r){switch(r.label){case 0:return[4,Cl.getAll()];case 1:return e=r.sent(),[2,t.apiResponse(e)]}}))}))()},getOne:function(e,t){return Nl((function(){var r,n;return Ul(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Cl.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},create:function(e,t){return Nl((function(){var r,n;return Ul(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Cl.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Nl((function(){var r,n,o;return Ul(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,Cl.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},delete:function(e,t){return Nl((function(){var r;return Ul(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Cl.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}});var Kl=o().Router();Kl.get("/",Ml.getAll),Kl.get("/:id",Ml.getOne),Kl.post("",Ml.create),Kl.patch("/:id",Ml.update),Kl.delete("/:id",Ml.delete);const Yl=Kl;function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zl(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Wl(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){zl(i,n,o,u,a,"next",e)}function a(e){zl(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Vl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ll(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ll(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hl(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var Fl=we.Sequelize.Op;t().config();var Jl={getAll:function(e){return Wl((function(){var t,r,n,o,i,u,a,c;return Hl(this,(function(l){switch(l.label){case 0:return t=Number(e.page)||1,r=Number(e.limit)||25,o=null!==(n=e.keyword)&&void 0!==n?n:"",i={},o&&(i.name=(s={},f=Fl.substring,p=o,f in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,s)),[4,xe({model:P.price_list,page:t,limit:r,condition:i})];case 1:return u=Vl.apply(void 0,[l.sent(),2]),a=u[0],c=u[1],[2,[a,c]]}var s,f,p}))}))()},getOne:function(e){return Wl((function(){var t;return Hl(this,(function(r){switch(r.label){case 0:return[4,P.price_list.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return Wl((function(){return Hl(this,(function(t){switch(t.label){case 0:return[4,P.price_list.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return Wl((function(){return Hl(this,(function(r){switch(r.label){case 0:return[4,ke(P.price_list,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return Wl((function(){return Hl(this,(function(t){switch(t.label){case 0:return[4,Pe(P.price_list,e)];case 1:return[2,t.sent()]}}))}))()}};const Ql=Jl;function Zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $l(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Xl(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){$l(i,n,o,u,a,"next",e)}function a(e){$l(i,n,o,u,a,"throw",e)}u(void 0)}))}}function es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ts(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var rs={getAll:function(e,t){return Xl((function(){var r,n,o,i;return ts(this,(function(u){switch(u.label){case 0:return r=e.query,[4,Ql.getAll(r)];case 1:return n=es.apply(void 0,[u.sent(),2]),o=n[0],i=n[1],[2,t.apiResponse(o,i)]}}))}))()},create:function(e,t){return Xl((function(){var r,n;return ts(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Ql.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return Xl((function(){var r,n,o;return ts(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,Ql.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return Xl((function(){var r,n;return ts(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Ql.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return Xl((function(){var r;return ts(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Ql.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}};const ns=ye(rs);var os=o().Router();os.get("",ns.getAll),os.get("/:id",ns.getOne),os.post("",He.protect,ns.create),os.patch("/:id",He.protect,ns.update),os.delete("/:id",He.protect,ns.delete);const is=os;function us(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function as(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function cs(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){as(i,n,o,u,a,"next",e)}function a(e){as(i,n,o,u,a,"throw",e)}u(void 0)}))}}function ls(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ss(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return us(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return us(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fs(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var ps=we.Sequelize.Op;t().config();var ds={getAll:function(e){return cs((function(){var t,r,n,o,i,u,a,c,l,s,f,p,d;return fs(this,(function(h){switch(h.label){case 0:return t=Number(e.page)||1,r=Number(e.limit)||25,o=null!==(n=e.keyword)&&void 0!==n?n:"",i={},u={},a={},o&&(a.title=ls({},ps.substring,e.keyword)),e.user_account_id&&(c=e.user_account_id,i.user_account_id=ls({},ps.eq,c)),o&&(i.name=ls({},ps.substring,o)),e.resume_active!=cr&&e.resume_active!=ar||(u.resume_active=ls({},ps.eq,e.resume_active)),e.fromDate&&e.toDate&&(l=e.fromDate,s=e.toDate,i.createdAt=ls({},ps.between,[l,s])),[4,xe({model:P.employer_resume,page:t,limit:r,condition:i,queries:{nest:!0,include:{model:P.resume,where:Object.keys(u).length>0?u:null,include:[{model:P.resume_title,as:"resume_title",where:Object.keys(a).length>0?a:null},{model:P.profession},{model:P.resume_desired_job,as:"resume_desired_job"},{model:P.user_account,as:"user_account"},{model:P.my_attach,as:"attachments"}]}}})];case 1:return f=ss.apply(void 0,[h.sent(),2]),p=f[0],d=f[1],[2,[p,d]]}}))}))()},getOne:function(e){return cs((function(){var t;return fs(this,(function(r){switch(r.label){case 0:return[4,P.employer_resume.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return cs((function(){return fs(this,(function(t){switch(t.label){case 0:return[4,P.employer_resume.findOne({where:{user_account_id:e.user_account_id,resume_id:e.resume_id},raw:!0})];case 1:if(t.sent())throw A()(409,"Bạn đã lưu hồ sơ này");return[4,P.employer_resume.create(e)];case 2:return[2,t.sent()]}}))}))()},update:function(e,t){return cs((function(){return fs(this,(function(r){switch(r.label){case 0:return[4,ke(P.employer_resume,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return cs((function(){return fs(this,(function(t){switch(t.label){case 0:return[4,Pe(P.employer_resume,e)];case 1:return[2,t.sent()]}}))}))()}};const hs=ds;function bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ys(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function ws(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){ys(i,n,o,u,a,"next",e)}function a(e){ys(i,n,o,u,a,"throw",e)}u(void 0)}))}}function vs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ms(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var gs={getAll:function(e,t){return ws((function(){var r,n,o,i;return ms(this,(function(u){switch(u.label){case 0:return r=e.query,[4,hs.getAll(r)];case 1:return n=vs.apply(void 0,[u.sent(),2]),o=n[0],i=n[1],[2,t.apiResponse(o,i)]}}))}))()},create:function(e,t){return ws((function(){var r,n;return ms(this,(function(o){switch(o.label){case 0:return r=e.body,[4,hs.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return ws((function(){var r,n,o;return ms(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,hs.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return ws((function(){var r,n;return ms(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,hs.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return ws((function(){var r;return ms(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,hs.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}};const _s=ye(gs);var Os=o().Router();Os.get("",_s.getAll),Os.get("/:id",_s.getOne),Os.post("",He.protect,_s.create),Os.patch("/:id",He.protect,_s.update),Os.delete("/:id",He.protect,_s.delete);const js=Os;function ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ss(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Ps(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Ss(i,n,o,u,a,"next",e)}function a(e){Ss(i,n,o,u,a,"throw",e)}u(void 0)}))}}function xs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ks(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ks(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function As(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var Rs=we.Sequelize.Op;t().config();var Es={getAll:function(e){return Ps((function(){var t,r,n,o,i,u,a,c;return As(this,(function(l){switch(l.label){case 0:return t=Number(e.page)||1,r=Number(e.limit)||25,o=null!==(n=e.keyword)&&void 0!==n?n:"",i={},o&&(i.name=(s={},f=Rs.substring,p=o,f in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,s)),[4,xe({model:P.feedback,page:t,limit:r,condition:i})];case 1:return u=xs.apply(void 0,[l.sent(),2]),a=u[0],c=u[1],[2,[a,c]]}var s,f,p}))}))()},getOne:function(e){return Ps((function(){var t;return As(this,(function(r){switch(r.label){case 0:return[4,P.feedback.findOne({where:{id:e},raw:!0})];case 1:if(!(t=r.sent()))throw A()(404,"Không tìm thấy bản ghi");return[2,t]}}))}))()},create:function(e){return Ps((function(){return As(this,(function(t){switch(t.label){case 0:return[4,P.feedback.create(e)];case 1:return[2,t.sent()]}}))}))()},update:function(e,t){return Ps((function(){return As(this,(function(r){switch(r.label){case 0:return[4,ke(P.feedback,e,t)];case 1:return[2,r.sent()]}}))}))()},delete:function(e){return Ps((function(){return As(this,(function(t){switch(t.label){case 0:return[4,Pe(P.feedback,e)];case 1:return[2,t.sent()]}}))}))()}};const Ds=Es;function Ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bs(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function qs(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){Bs(i,n,o,u,a,"next",e)}function a(e){Bs(i,n,o,u,a,"throw",e)}u(void 0)}))}}function Gs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ts(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ts(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cs(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var Is={getAll:function(e,t){return qs((function(){var r,n,o,i;return Cs(this,(function(u){switch(u.label){case 0:return r=e.query,[4,Ds.getAll(r)];case 1:return n=Gs.apply(void 0,[u.sent(),2]),o=n[0],i=n[1],[2,t.apiResponse(o,i)]}}))}))()},create:function(e,t){return qs((function(){var r,n;return Cs(this,(function(o){switch(o.label){case 0:return r=e.body,[4,Ds.create(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},update:function(e,t){return qs((function(){var r,n,o;return Cs(this,(function(i){switch(i.label){case 0:return r=e.body,n=e.params.id,[4,Ds.update(n,r)];case 1:return o=i.sent(),[2,t.apiResponse(o)]}}))}))()},getOne:function(e,t){return qs((function(){var r,n;return Cs(this,(function(o){switch(o.label){case 0:return r=e.params.id,[4,Ds.getOne(r)];case 1:return n=o.sent(),[2,t.apiResponse(n)]}}))}))()},delete:function(e,t){return qs((function(){var r;return Cs(this,(function(n){switch(n.label){case 0:return r=e.params.id,[4,Ds.delete(r)];case 1:return n.sent(),[2,t.apiResponse()]}}))}))()}};const Ns=ye(Is);var Us=o().Router();Us.get("",Ns.getAll),Us.get("/:id",Ns.getOne),Us.post("",Ns.create),Us.patch("/:id",Ns.update),Us.delete("/:id",Ns.delete);const Ms=Us;const Ks=function(e){var t=(0,n.Router)();t.use("/users",Ht),t.use("/auth",be),t.use("/job_position_category",Je),t.use("/job_welfare",dt),t.use("/profession",Dt),t.use("/cv_template",ur),t.use("/work_type",Lu),t.use("/resume",ki),t.use("/resume_title",Xi),t.use("/resume_language",bo),t.use("/resume_skill",Ii),t.use("/resume_education",to),t.use("/resume_certificate",Cn),t.use("/resume_refer",Go),t.use("/resume_template",Zi),t.use("/resume_desired_job",Yn),t.use("/resume_objective",So),t.use("/resume_work_type",lu),t.use("/resume_activity",Pn),t.use("/resume_experience",Gu),t.use("/my_attach",Qr),t.use("/resume_addioninfo",Ou),t.use("/company",ra),t.use("/job_profession_detail",pa),t.use("/job_welfare_detail",Oa),t.use("/company",ra),t.use("/job_profession_detail",pa),t.use("/company",ra),t.use("/job_post_activity",Va),t.use("/job_work_type_detail",rc),t.use("/job_saved",pc),t.use("/job_post",Cc),t.use("/resume_profile",Nc),t.use("/service_type",Fc),t.use("/service",bl),t.use("/benefits",Tl),t.use("/company_service",Yl),t.use("/price_list",is),t.use("/employer_resume",js),t.use("/feedback",Ms),e.use("/api",t)};const Ys=function(e,t,r,n){console.log(e),e.statusCode=(null==e?void 0:e.statusCode)||500;var o=(null==e?void 0:e.messageObject)||e.message;return r.status(e.statusCode).json({isSuccess:!1,message:o,status:e.statusCode,data:[]})};function Ls(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zs(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const Ws=function(e,t,r){t.apiResponse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=zs(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ls(e,t,r[t])}))}return e}({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.SUCCESS),{data:e,pagination:r}),o=n.status||200;return t.status(o).json(n)},r()};var Vs=o()();Vs.use(p()()),Vs.use(c()({origin:["http://127.0.0.1:5173","http://localhost:3000"],credentials:!0,optionsSuccessStatus:200})),Vs.use(s()({level:6,threshold:1e5})),Vs.use(Ws),Vs.use(o().urlencoded({extended:!0})),Vs.use(o().json()),Vs.use(u()("combined")),Ks(Vs),Vs.get("/api/uploads/:fileName",(function(e,t){var r=e.params.fileName;t.sendFile(d.join(__dirname,"uploads",r))})),Vs.all("*",(function(e,t,r){var n=new Error("The route can not be found");n.statusCode=404,r(n)})),Vs.use(Ys),dr();const Hs=Vs;t().config();var Fs=process.env.PORT;Hs.listen(Fs,(function(){console.log("Example app listening on port http://localhost:".concat(Fs))}))})()})();